<!-- user_register.html -->

<!-- {% load static %} -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordBloom - Sign Up</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="{% static '/userside/assets/imgs/theme/icons/logo_wordbloom.png' %}" type="image/x-icon" width = '32px' height = '32px'>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Outfit', sans-serif;
        }
        body {
            line-height: 1.6;
            color: #333;
            background-color: #e6f7f7;
        }
        a {
            text-decoration: none;
            color: inherit;
        }

        /* Header styles */
        .header-top {
            padding: 1rem 0.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1400px;
            margin: 0 auto;
        }
        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .logo-section img {
            width: 40px;
            height: auto;
        }
        .logo-section span {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2b5f5f;
        }
        .search-section {
            flex: 1;
            max-width: 600px;
            margin: 0 2rem;
        }
        .search-bar {
            width: 110%;
            padding: 0.75rem 1rem;
            border: 1px solid #ccc;
            border-radius: 25px;
            font-size: 0.9rem;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>');
            background-repeat: no-repeat;
            background-position: 10px center;
            padding-left: 2.5rem;
        }
        .actions-section {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        .action-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #2b5f5f;
            text-decoration: none;
            font-weight: 600;
        }
        .action-item i {
            font-size: 1.25rem;
        }
        .navigation {
            background-color: #2b5f5f;
            padding: 1rem 0;
        }
        .nav-links {
            display: flex;
            justify-content: center;
            gap: 3rem;
            list-style: none;
            max-width: 1400px;
            margin: 0 auto;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
        }
        .nav-links a:hover {
            text-decoration: underline;
        }

        /* Main content styles */
        main {
            background-color: #e6f7f7;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 0.2rem;
        }
        .signup-form {
            max-width: 900px;
            margin: 2rem auto;
            background-color: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .form-title {
            color: #2b5f5f;
            font-size: 24px;
            text-align: center;
            margin-bottom: 2rem;
            font-weight: 700;
        }
        .form-row {
            display: flex;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        .form-group {
            flex: 1;
        }
        .form-label {
            display: block;
            color: #e53e3e;
            font-size: 14px;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 10px;
            font-size: 14px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .form-input:focus {
            outline: none;
            border-color: #2b5f5f;
            box-shadow: 0 2px 4px rgba(7, 116, 116, 0.1);
        }
        .submit-btn {
            background-color: #2b5f5f;
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 20px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            width: 50%;
            max-width: 300px;
            margin: 2rem auto;
            display: block;
            transition: background-color 0.2s;
        }
        .submit-btn:hover {
            background-color: #219f9f;
        }
        .login-text {
            text-align: center;
            font-size: 14px;
            color: #666;
        }
        .login-link {
            color: #e53e3e;
            font-weight: 500;
            text-decoration: none;
        }
        .login-link:hover {
            text-decoration: underline;
        }

        /* New Footer styles */
        .footer {
            background-color: #2b5f5f;
            color: white;
            padding: 3rem 0 1rem;
        }
        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4rem;
            margin-bottom: 2rem;
        }
        .footer-section h3 {
            color: white;
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }
        .footer-section ul {
            list-style: none;
        }
        .footer-section ul li {
            margin-bottom: 0.75rem;
        }
        .footer-section ul li a {
            color: white;
            text-decoration: none;
            font-size: 0.95rem;
            transition: opacity 0.2s;
        }
        .footer-section ul li a:hover {
            opacity: 0.8;
        }
        .social-icons {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .social-icons a {
            color: white;
            font-size: 1.25rem;
            transition: opacity 0.2s;
        }
        .social-icons a:hover {
            opacity: 0.8;
        }
        .subscribe-text {
            font-size: 0.95rem;
            margin-bottom: 1rem;
            color: white;
        }
        .subscribe-form {
            display: flex;
            gap: 0.5rem;
        }
        .subscribe-form input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: none;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
            color: #333;
        }
        .subscribe-form input::placeholder {
            color: #666;
        }
        .subscribe-form button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            background-color: white;
            color: #2b5f5f;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        .subscribe-form button:hover {
            opacity: 0.9;
        }
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 0.9rem;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }
            .search-section {
                margin: 0.5rem 0;
                width: 100%;
            }
            .actions-section {
                width: 100%;
                justify-content: space-around;
            }
            .nav-links {
                gap: 1rem;
                padding: 0 1rem;
                flex-wrap: wrap;
            }
            .footer-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            .form-row {
                flex-direction: column;
                gap: 1rem;
            }
            .signup-form {
                padding: 1.5rem;
                margin: 1rem;
            }
        }

        /* New styles for neat padding between form fields */
        .form-row {
            margin-left: -1rem;
            margin-right: -1rem;
        }
        .form-group {
            padding: 0 1rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-top">
            <div class="logo-section">
                <img src="/static/userside/assets/imgs/theme/icons/logo_wordbloom.png" alt="WordBloom Logo" />
                <span>WordBloom</span>
            </div>
            
            <div class="search-section">
                <input 
                    type="search" 
                    class="search-bar"
                    placeholder="Search by Author, Publisher, Book Type and more"
                />
            </div>

            <div class="actions-section">
                <a href="#" class="action-item">
                    <i class="ri-shopping-cart-2-line"></i>
                    <span>Cart</span>
                </a>
                <a href="#" class="action-item">
                    <i class="ri-heart-line"></i>
                    <span>WishList</span>
                </a>
                <a href="#" class="action-item">
                    <i class="ri-user-line"></i>
                    <span>Account</span>
                </a>
            </div>
        </div>

        <nav class="navigation">
            <ul class="nav-links">
                <li><a href="{% url 'accounts:home'%}">Home</a></li>
                <li><a href="{% url 'accounts:shop'%}">Shop</a></li>
                <li><a href="{% url 'accounts:category'%}">Category</a></li>
                <li><a href="#">Authors</a></li>
                <li><a href="#">Contact</a></li>
                <li><a href="#">About Us</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="container">
            <form class="signup-form" method="POST">
                {% csrf_token %}
                <h1 class="form-title">Sign UP - Create New Account</h1>
            
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">{{ form.first_name.label }}</label>
                        {{ form.first_name }}
                    </div>
                    <div class="form-group">
                        <label class="form-label">{{ form.last_name.label }}</label>
                        {{ form.last_name }}
                    </div>
                </div>
            
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">{{ form.email.label }}</label>
                        {{ form.email }}
                    </div>
                    <div class="form-group">
                        <label class="form-label">{{ form.phone_number.label }}</label>
                        {{ form.phone_number }}
                    </div>
                </div>
            
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">{{ form.password.label }}</label>
                        {{ form.password }}
                    </div>
                    <div class="form-group">
                        <label class="form-label">{{ form.confirm_password.label }}</label>
                        {{ form.confirm_password }}
                    </div>
                </div>
            
                <button type="submit" class="submit-btn">Submit</button>
            
                <p class="login-text">
                    Already have an account? <a href="#" class="login-link">Login here!</a>
                </p>
            </form>
            
            
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Team</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact</h3>
                    <ul>
                        <li><a href="#">Help & Support</a></li>
                        <li><a href="#">Partner with us</a></li>
                        <li><a href="#">Ride with us</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Refund & Cancellation</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>FOLLOW US</h3>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                    <p class="subscribe-text">Receive exclusive offers in your mailbox</p>
                    <form class="subscribe-form">
                        <input type="email" placeholder="Enter Your email">
                        <button type="submit">Subscribe</button>
                    </form>
                </div>
            </div>

            <div class="footer-bottom">
                <p>All rights Reserved Â© WordBloom, 2024</p>
            </div>
        </div>
    </footer>
</body>
</html> -->




<!--User template inheritance model-->

{% extends 'base.html' %}

{% block title %}WordBloom{% endblock %}

{% block page_styles %}
<style>
    /* Main content styles */

</style>

{% endblock %}

{% block content %}

{% endblock %}



<!--Admin template inheritance model-->

{% extends 'admin_base.html' %}

{% block title %}Wordbloom : Admin Dashboard{% endblock %}
{% block extra_css %}
<style>
    
</style>
{% endblock %}

{% block content %}

{% endblock %}








{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordBloom Admin - Users</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; }
        body { background-color: #f8f8f8; color: #333; display: flex; min-height: 100vh; }
        .sidebar { width: 250px; background-color: #e0f7fa; color: #333; padding: 1rem; }
        .sidebar-header { display: flex; align-items: center; margin-bottom: 2rem; }
        .sidebar-header img { width: 40px; height: auto; margin-right: 0.5rem; }
        .sidebar-header h2 { font-size: 1.2rem; }
        .sidebar-menu { list-style: none; }
        .sidebar-menu li { margin-bottom: 0.5rem; }
        .sidebar-menu a { color: #333; text-decoration: none; display: flex; align-items: center; padding: 0.5rem; border: 1px solid #333; border-radius: 8px; transition: background-color 0.3s; }
        .sidebar-menu a:hover, .sidebar-menu a.active { background-color: #b2ebf2; }
        .sidebar-menu i { margin-right: 0.5rem; width: 20px; }
        .main-content { flex: 1; padding: 1rem; overflow-y: auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
        .admin-profile { display: flex; align-items: center; }
        .admin-profile img { width: 40px; height: 40px; border-radius: 50%; margin-right: 0.5rem; }
        .users-title { font-size: 1.5rem; color: #2b5f5f; }
        .users-table { width: 100%; border-collapse: collapse; background-color: #fff; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .users-table th, .users-table td { padding: 1rem; text-align: left; border-bottom: 1px solid #eee; }
        .users-table th { background-color: #f1f1f1; font-weight: 600; color: #2b5f5f; }
        .action-buttons a { padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px; color: #fff; transition: background-color 0.3s; }
        .block-btn { background-color: #e53e3e; }
        .block-btn:hover { background-color: #c53030; }
        .unblock-btn { background-color: #48bb78; }
        .unblock-btn:hover { background-color: #38a169; }
    </style>
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-header">
            <img src="/static/userside/assets/imgs/theme/icons/logo_wordbloom.png" alt="WordBloom Logo">
            <h2>WordBloom Admin</h2>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#"><i class="fas fa-shopping-cart"></i> Orders</a></li>
            <li><a href="#"><i class="fas fa-box"></i> Products</a></li>
            <li><a href="#" class="active"><i class="fas fa-users"></i> Users</a></li>
            <li><a href="#"><i class="fas fa-th-list"></i> Categories</a></li>
        </ul>
    </nav>
    <main class="main-content">
        <header class="header">
            <h1 class="users-title">User Management</h1>
            <div class="admin-profile">
                <img src="/placeholder.svg?height=40&width=40" alt="Admin Image">
                <span>Admin User</span>
            </div>
        </header>
        <table class="users-table">
            <thead>
                <tr>
                    <th>Full Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td>{{ user.full_name }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.phone_number }}</td>
                    <td>
                        {% if user.is_blocked %}
                            Blocked
                        {% else %}
                            Active
                        {% endif %}
                    </td>
                    <td>
                        <div class="action-buttons">
                            {% if user.is_blocked %}
                                <a href="{% url 'admindashboard:unblock_user' user.id %}" class="unblock-btn">Unblock</a>
                            {% else %}
                                <a href="{% url 'admindashboard:block_user' user.id %}" class="block-btn">Block</a>
                            {% endif %}
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </main>
</body>
</html>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        const userTableBody = document.getElementById('userTableBody');
        const statusFilter = document.getElementById('statusFilter');
        const adminFilter = document.getElementById('adminFilter');
        const searchInput = document.getElementById('searchInput');

        // Sample user data (in a real application, this would come from a backend API)
        const users = [
            { user_id: 1, first_name: 'John', last_name: 'Doe', email: 'john@example.com', phone_number: '1234567890', is_active: true, is_admin: false },
            { user_id: 2, first_name: 'Jane', last_name: 'Smith', email: 'jane@example.com', phone_number: '9876543210', is_active: true, is_admin: true },
            { user_id: 3, first_name: 'Alice', last_name: 'Johnson', email: 'alice@example.com', phone_number: '5555555555', is_active: false, is_admin: false },
        ];

        function renderUsers(filteredUsers) {
            userTableBody.innerHTML = '';
            filteredUsers.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.user_id}</td>
                    <td>${user.first_name} ${user.last_name}</td>
                    <td>${user.email}</td>
                    <td>${user.phone_number}</td>
                    <td>${user.is_admin ? 'Yes' : 'No'}</td>
                    <td>${user.is_active ? 'Active' : 'Inactive'}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="${user.is_active ? 'block-btn' : 'unblock-btn'}" onclick="toggleUserStatus(${user.user_id})">
                                ${user.is_active ? 'Block' : 'Unblock'}
                            </button>
                        </div>
                    </td>
                `;
                userTableBody.appendChild(row);
            });
        }

        function filterUsers() {
            const statusValue = statusFilter.value;
            const adminValue = adminFilter.value;
            const searchValue = searchInput.value.toLowerCase();

            const filteredUsers = users.filter(user => {
                const statusMatch = statusValue === '' || 
                    (statusValue === 'active' && user.is_active) || 
                    (statusValue === 'inactive' && !user.is_active);
                const adminMatch = adminValue === '' || 
                    (adminValue === 'admin' && user.is_admin) || 
                    (adminValue === 'non-admin' && !user.is_admin);
                const searchMatch = user.first_name.toLowerCase().includes(searchValue) || 
                    user.last_name.toLowerCase().includes(searchValue) || 
                    user.email.toLowerCase().includes(searchValue) ||
                    user.phone_number.includes(searchValue);

                return statusMatch && adminMatch && searchMatch;
            });

            renderUsers(filteredUsers);
        }

        statusFilter.addEventListener('change', filterUsers);
        adminFilter.addEventListener('change', filterUsers);
        searchInput.addEventListener('input', filterUsers);

        // Initial render
        renderUsers(users);

        // Make toggleUserStatus function global so it can be accessed by inline onclick handlers
        window.toggleUserStatus = function(userId) {
            const user = users.find(u => u.user_id === userId);
            if (user) {
                user.is_active = !user.is_active;
                filterUsers(); // Re-render the table
            }
        };
    });
</script>






{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordBloom Admin Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Outfit', sans-serif;
        }
        body {
            background-color: #f8f8f8;
            color: #333;
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 250px;
            background-color: #e0f7fa;
            color: #333;
            padding: 1rem;
        }
        .sidebar-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
        }
        .sidebar-header img {
            width: 40px;
            height: auto;
            margin-right: 0.5rem;
        }
        .sidebar-header h2 {
            font-size: 1.2rem;
        }
        .sidebar-menu {
            list-style: none;
        }
        .sidebar-menu li {
            margin-bottom: 0.5rem;
        }
        .sidebar-menu a {
            color: #333;
            text-decoration: none;
            display: flex;
            align-items: center;
            padding: 0.5rem;
            border: 1px solid #333;
            border-radius: 8px;
            transition: background-color 0.3s;
        }
        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: #b2ebf2;
        }
        .sidebar-menu i {
            margin-right: 0.5rem;
            width: 20px;
        }
        .main-content {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
        }
        .header {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-bottom: 2rem;
        }
        .admin-profile {
            display: flex;
            align-items: center;
            margin-right: 1rem;
        }
        .admin-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        .notifications {
            position: relative;
        }
        .notifications i {
            font-size: 1.2rem;
            color: #2b5f5f;
        }
        .notification-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #2b5f5f;
            color: #fff;
            font-size: 0.7rem;
            padding: 2px 5px;
            border-radius: 50%;
        }
        /* .logout-btn {
            background-color: #e53e3e;
            color: #fff;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .logout-btn:hover {
            background-color: #c53030;
        } */
        .logout-btn {
            background-color: #6587ed;
            color: #fff;
            text-decoration: none; /* Ensures it's styled as a button */
            padding: 0.5rem 1rem;
            border-radius: 4px;
            display: inline-flex; /* Aligns icon and text */
            align-items: center; /* Centers icon and text vertically */
            border: none; /* Removes border for the anchor */
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .logout-btn i {
            margin-right: 0.5rem; /* Adds spacing between icon and text */
        }
        .logout-btn:hover {
            background-color: #c53030;
        }
        ul {
            margin: 1rem 0;
            padding: 0;
            list-style: none;
        }
        li {
            margin-bottom: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 4px;
        } 
        li.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        li.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        li.info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        li.warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeeba;
        }


        .quick-filters {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        .quick-filters button {
            background-color: #fff;
            border: 1px solid #2b5f5f;
            color: #2b5f5f;
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }
        .quick-filters button:hover, .quick-filters button.active {
            background-color: #2b5f5f;
            color: #fff;
        }
        .dashboard-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .overview-card {
            background-color: #fff;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .overview-card h3 {
            font-size: 1rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        .overview-card p {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2b5f5f;
        }
        .recent-orders, .top-selling-books {
            background-color: #fff;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        .recent-orders h2, .top-selling-books h2 {
            font-size: 1.2rem;
            color: #2b5f5f;
            margin-bottom: 1rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 0.5rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        th {
            font-weight: 600;
            color: #2b5f5f;
        }
        .status {
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        .status-shipped {
            background-color: #c6f6d5;
            color: #2f855a;
        }
        .status-processing {
            background-color: #fefcbf;
            color: #d69e2e;
        }
        .book-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        .book-item {
            display: flex;
            align-items: center;
        }
        .book-item img {
            width: 50px;
            height: 75px;
            object-fit: cover;
            margin-right: 0.5rem;
        }
        .book-info h4 {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }
        .book-info p {
            font-size: 0.8rem;
            color: #666;
        }
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                padding-bottom: 1rem;
            }
            .sidebar-menu {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            .sidebar-menu li {
                margin: 0 0.5rem 0.5rem 0;
            }
        }
    </style>
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-header">
            <img src="/static/userside/assets/imgs/theme/icons/logo_wordbloom.png" alt="WordBloom Logo">
            <h2>WordBloom Admin</h2>
        </div>
        <ul class="sidebar-menu">
            <li><a href="{% url 'admindashboard:admin_dashboard'%}" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#"><i class="fas fa-shopping-cart"></i> Orders</a></li>
            <li><a href="#"><i class="fas fa-box"></i> Products</a></li>
            <li><a href="{% url 'admindashboard:list_users'%}"><i class="fas fa-users"></i> Users</a></li>
            <li><a href="{% url 'category:category_list'%}"><i class="fas fa-th-list"></i> Categories</a></li>
            <li><a href="#"><i class="fas fa-percent"></i> Coupons</a></li>
            <li><a href="#"><i class="fas fa-image"></i> Banners</a></li>
            <li><a href="#"><i class="fas fa-credit-card"></i> Payments</a></li>
            <li><a href="#"><i class="fas fa-tags"></i> Offers</a></li>
            <li><a href="#"><i class="fas fa-chart-line"></i> Sales report</a></li>
        </ul>
    </nav>
    <main class="main-content">
        <header class="header">
            <div class="admin-profile">
                <!-- <img src="/placeholder.svg?height=40&width=40" alt="Admin Avatar"> -->
                <span>Admin {{request.user.first_name}}</span>
            </div>
            <!-- <div class="notifications">
                <i class="fas fa-bell"></i>
                <span class="notification-count">3</span>
            </div> -->
            <!-- <div class="logout">
                <button id="logoutBtn" class="logout-btn">Logout</button>
            </div> -->
            <div class="logout">
                <a href="{% url 'admindashboard:admin-logout' %}" id="logoutLink" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </header>
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <li class="{{ message.tags }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <div class="quick-filters">
            <button class="filter-btn active" data-filter="day">Today</button>
            <button class="filter-btn" data-filter="week">This Week</button>
            <button class="filter-btn" data-filter="month">This Month</button>
            <button class="filter-btn" data-filter="year">This Year</button>
            <button class="filter-btn" data-filter="all">All Time</button>
        </div>
        <section class="dashboard-overview">
            <div class="overview-card">
                <h3>Total Sales</h3>
                <p>$12,345</p>
            </div>
            <div class="overview-card">
                <h3>Orders</h3>
                <p>123</p>
            </div>
            <div class="overview-card">
                <h3>Customers</h3>
                <p>1,234</p>
            </div>
            <div class="overview-card">
                <h3>Books</h3>
                <p>5,678</p>
            </div>
        </section>
        <section class="recent-orders">
            <h2>Recent Orders</h2>
            <table>
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Customer</th>
                        <th>Date</th>
                        <th>Amount</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>#12345</td>
                        <td>John Doe</td>
                        <td>2024-03-15</td>
                        <td>$59.99</td>
                        <td><span class="status status-shipped">Shipped</span></td>
                    </tr>
                    <tr>
                        <td>#12346</td>
                        <td>Jane Smith</td>
                        <td>2024-03-14</td>
                        <td>$39.99</td>
                        <td><span class="status status-processing">Processing</span></td>
                    </tr>
                    <tr>
                        <td>#12347</td>
                        <td>Bob Johnson</td>
                        <td>2024-03-13</td>
                        <td>$79.99</td>
                        <td><span class="status status-shipped">Shipped</span></td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section class="top-selling-books">
            <h2>Top Selling Books</h2>
            <div class="book-list">
                <div class="book-item">
                    <img src="/placeholder.svg?height=75&width=50" alt="Book Cover">
                    <div class="book-info">
                        <h4>The Silent Echo</h4>
                        <p>Sales: 1,234</p>
                    </div>
                </div>
                <div class="book-item">
                    <img src="/placeholder.svg?height=75&width=50" alt="Book Cover">
                    <div class="book-info">
                        <h4>Whispers in the Wind</h4>
                        <p>Sales: 987</p>
                    </div>
                </div>
                <div class="book-item">
                    <img src="/placeholder.svg?height=75&width=50" alt="Book Cover">
                    <div class="book-info">
                        <h4>Echoes of Eternity</h4>
                        <p>Sales: 876</p>
                    </div>
                </div>
                <div class="book-item">
                    <img src="/placeholder.svg?height=75&width=50" alt="Book Cover">
                    <div class="book-info">
                        <h4>The Forgotten Path</h4>
                        <p>Sales: 765</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    console.log('Selected filter:', filter);
                    // Here you would typically update the dashboard data based on the selected filter
                    // For this example, we're just logging the selected filter
                });
            });
        });
    </script>
</body>
</html>





<!--Product_edit.html-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Edit Product | WordBloom</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2b5f5f;
            --secondary-color: #dc2626;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --info-color: #3b82f6;
            --text-color: #333;
            --light-gray: #f3f4f6;
            --medium-gray: #9ca3af;
            --dark-gray: #4b5563;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-gray);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .admin-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .admin-nav {
            display: flex;
            gap: 1rem;
        }

        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .admin-nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .admin-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--medium-gray);
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e4545;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #b91c1c;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .image-preview {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .preview-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .admin-content {
                padding: 1rem;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header class="admin-header">
        <h1 class="admin-title">WordBloom Admin</h1>
        <nav class="admin-nav">
            <a href="#">Dashboard</a>
            <a href="#">Products</a>
            <a href="#">Orders</a>
            <a href="#">Users</a>
            <a href="#">Logout</a>
        </nav>
    </header>

    <div class="container">
        <div class="admin-content">
            <h2>Edit Product</h2>
            <form id="editProductForm">
                <div class="form-group">
                    <label for="product_id">Product ID</label>
                    <input type="text" id="product_id" name="product_id" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="product_name">Product Name</label>
                    <input type="text" id="product_name" name="product_name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="product_description">Product Description</label>
                    <textarea id="product_description" name="product_description" class="form-control" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="category_id">Category</label>
                    <select id="category_id" name="category_id" class="form-control" required>
                        <option value="">Select a category</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="author_id">Author</label>
                    <select id="author_id" name="author_id" class="form-control" required>
                        <option value="">Select an author</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="isbn">ISBN</label>
                    <input type="text" id="isbn" name="isbn" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="price">Price</label>
                    <input type="number" id="price" name="price" class="form-control" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="discount_price">Discount Price</label>
                    <input type="number" id="discount_price" name="discount_price" class="form-control" step="0.01">
                </div>
                <div class="form-group">
                    <label for="stock_quantity">Stock Quantity</label>
                    <input type="number" id="stock_quantity" name="stock_quantity" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="publication_date">Publication Date</label>
                    <input type="date" id="publication_date" name="publication_date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="language">Language</label>
                    <input type="text" id="language" name="language" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="page_count">Page Count</label>
                    <input type="number" id="page_count" name="page_count" class="form-control" required>
                </div>
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="is_featured" name="is_featured">
                    <label for="is_featured">Featured</label>
                </div>
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="is_active" name="is_active">
                    <label for="is_active">Active</label>
                </div>
                <div class="form-group">
                    <label for="product_images">Product Images</label>
                    <input type="file" id="product_images" name="product_images" class="form-control" multiple accept="image/*">
                </div>
                <div class="image-preview">
                    <img src="/placeholder.svg?height=100&width=100&text=1" alt="Preview 1" class="preview-image">
                    <img src="/placeholder.svg?height=100&width=100&text=2" alt="Preview 2" class="preview-image">
                    <img src="/placeholder.svg?height=100&width=100&text=3" alt="Preview 3" class="preview-image">
                </div>
                <div class="action-buttons">
                    <button type="submit" class="btn btn-primary"><i class="ri-save-line"></i> Save Changes</button>
                    <button type="button" class="btn btn-danger" id="deleteProduct"><i class="ri-delete-bin-line"></i> Delete Product</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // This script would handle form submission, image preview, and delete functionality
        // In a real application, you'd want to expand this significantly and possibly use a framework for more complex interactions

        document.getElementById('editProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // Here you would typically send the form data to your server
            console.log('Form submitted');
            // Collect form data and send to server
            const formData = new FormData(this);
            for (let [key, value] of formData.entries()) {
                console.log(key, value);
            }
        });

        document.getElementById('deleteProduct').addEventListener('click', function() {
            if (confirm('Are you sure you want to delete this product?')) {
                // Here you would typically send a delete request to your server
                console.log('Product deleted');
            }
        });

        document.getElementById('product_images').addEventListener('change', function(e) {
            const previewContainer = document.querySelector('.image-preview');
            previewContainer.innerHTML = ''; // Clear existing previews

            for (let file of e.target.files) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = 'Preview';
                    img.className = 'preview-image';
                    previewContainer.appendChild(img);
                }
                reader.readAsDataURL(file);
            }
        });

        // In a real application, you would fetch the product data from the server and populate the form
        // For demonstration purposes, we'll use dummy data
        function populateForm() {
            document.getElementById('product_id').value = '1';
            document.getElementById('product_name').value = 'Sample Book';
            document.getElementById('product_description').value = 'This is a sample book description.';
            document.getElementById('isbn').value = '1234567890123';
            document.getElementById('price').value = '29.99';
            document.getElementById('discount_price').value = '24.99';
            document.getElementById('stock_quantity').value = '100';
            document.getElementById('publication_date').value = '2023-01-01';
            document.getElementById('language').value = 'English';
            document.getElementById('page_count').value = '300';
            document.getElementById('is_featured').checked = true;
            document.getElementById('is_active').checked = true;
        }

        // Populate category and author dropdowns
        function populateDropdowns() {
            const categories = [
                { id: 1, name: 'Fiction' },
                { id: 2, name: 'Non-Fiction' },
                { id: 3, name: 'Science Fiction' },
                { id: 4, name: 'Mystery' }
            ];

            const authors = [
                { id: 1, name: 'John Doe' },
                { id: 2, name: 'Jane Smith' },
                { id: 3, name: 'Robert Johnson' },
                { id: 4, name: 'Emily Brown' }
            ];

            const categorySelect = document.getElementById('category_id');
            const authorSelect = document.getElementById('author_id');

            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                categorySelect.appendChild(option);
            });

            authors.forEach(author => {
                const option = document.createElement('option');
                option.value = author.id;
                option.textContent = author.name;
                authorSelect.appendChild(option);
            });
        }

        // Call these functions when the page loads
        window.addEventListener('load', () => {
            populateForm();
            populateDropdowns();
        });
    </script>
</body>
</html>





<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Edit Product | WordBloom</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2b5f5f;
            --secondary-color: #dc2626;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --info-color: #3b82f6;
            --text-color: #333;
            --light-gray: #f3f4f6;
            --medium-gray: #9ca3af;
            --dark-gray: #4b5563;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-gray);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .admin-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .admin-nav {
            display: flex;
            gap: 1rem;
        }

        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .admin-nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .admin-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--medium-gray);
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e4545;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #b91c1c;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .image-preview {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .preview-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .admin-content {
                padding: 1rem;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header class="admin-header">
        <h1 class="admin-title">WordBloom Admin</h1>
        <nav class="admin-nav">
            <a href="#">Dashboard</a>
            <a href="#">Products</a>
            <a href="#">Orders</a>
            <a href="#">Users</a>
            <a href="#">Logout</a>
        </nav>
    </header>

    <div class="container">
        <div class="admin-content">
            <h2>Edit Product</h2>
            <form id="editProductForm">
                <div class="form-group">
                    <label for="product_id">Product ID</label>
                    <input type="text" id="product_id" name="product_id" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="product_name">Product Name</label>
                    <input type="text" id="product_name" name="product_name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="product_description">Product Description</label>
                    <textarea id="product_description" name="product_description" class="form-control" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="category_id">Category</label>
                    <select id="category_id" name="category_id" class="form-control" required>
                        <option value="">Select a category</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="author_id">Author</label>
                    <select id="author_id" name="author_id" class="form-control" required>
                        <option value="">Select an author</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="isbn">ISBN</label>
                    <input type="text" id="isbn" name="isbn" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="price">Price</label>
                    <input type="number" id="price" name="price" class="form-control" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="discount_price">Discount Price</label>
                    <input type="number" id="discount_price" name="discount_price" class="form-control" step="0.01">
                </div>
                <div class="form-group">
                    <label for="stock_quantity">Stock Quantity</label>
                    <input type="number" id="stock_quantity" name="stock_quantity" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="publication_date">Publication Date</label>
                    <input type="date" id="publication_date" name="publication_date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="language">Language</label>
                    <input type="text" id="language" name="language" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="page_count">Page Count</label>
                    <input type="number" id="page_count" name="page_count" class="form-control" required>
                </div>
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="is_featured" name="is_featured">
                    <label for="is_featured">Featured</label>
                </div>
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="is_active" name="is_active">
                    <label for="is_active">Active</label>
                </div>
                <div class="form-group">
                    <label for="product_images">Product Images</label>
                    <input type="file" id="product_images" name="product_images" class="form-control" multiple accept="image/*">
                </div>
                <div class="image-preview">
                    <img src="/placeholder.svg?height=100&width=100&text=1" alt="Preview 1" class="preview-image">
                    <img src="/placeholder.svg?height=100&width=100&text=2" alt="Preview 2" class="preview-image">
                    <img src="/placeholder.svg?height=100&width=100&text=3" alt="Preview 3" class="preview-image">
                </div>
                <div class="action-buttons">
                    <button type="submit" class="btn btn-primary"><i class="ri-save-line"></i> Save Changes</button>
                    <button type="button" class="btn btn-danger" id="deleteProduct"><i class="ri-delete-bin-line"></i> Delete Product</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // This script would handle form submission, image preview, and delete functionality
        // In a real application, you'd want to expand this significantly and possibly use a framework for more complex interactions

        document.getElementById('editProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // Here you would typically send the form data to your server
            console.log('Form submitted');
            // Collect form data and send to server
            const formData = new FormData(this);
            for (let [key, value] of formData.entries()) {
                console.log(key, value);
            }
        });

        document.getElementById('deleteProduct').addEventListener('click', function() {
            if (confirm('Are you sure you want to delete this product?')) {
                // Here you would typically send a delete request to your server
                console.log('Product deleted');
            }
        });

        document.getElementById('product_images').addEventListener('change', function(e) {
            const previewContainer = document.querySelector('.image-preview');
            previewContainer.innerHTML = ''; // Clear existing previews

            for (let file of e.target.files) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = 'Preview';
                    img.className = 'preview-image';
                    previewContainer.appendChild(img);
                }
                reader.readAsDataURL(file);
            }
        });

        // In a real application, you would fetch the product data from the server and populate the form
        // For demonstration purposes, we'll use dummy data
        function populateForm() {
            document.getElementById('product_id').value = '1';
            document.getElementById('product_name').value = 'Sample Book';
            document.getElementById('product_description').value = 'This is a sample book description.';
            document.getElementById('isbn').value = '1234567890123';
            document.getElementById('price').value = '29.99';
            document.getElementById('discount_price').value = '24.99';
            document.getElementById('stock_quantity').value = '100';
            document.getElementById('publication_date').value = '2023-01-01';
            document.getElementById('language').value = 'English';
            document.getElementById('page_count').value = '300';
            document.getElementById('is_featured').checked = true;
            document.getElementById('is_active').checked = true;
        }

        // Populate category and author dropdowns
        function populateDropdowns() {
            const categories = [
                { id: 1, name: 'Fiction' },
                { id: 2, name: 'Non-Fiction' },
                { id: 3, name: 'Science Fiction' },
                { id: 4, name: 'Mystery' }
            ];

            const authors = [
                { id: 1, name: 'John Doe' },
                { id: 2, name: 'Jane Smith' },
                { id: 3, name: 'Robert Johnson' },
                { id: 4, name: 'Emily Brown' }
            ];

            const categorySelect = document.getElementById('category_id');
            const authorSelect = document.getElementById('author_id');

            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                categorySelect.appendChild(option);
            });

            authors.forEach(author => {
                const option = document.createElement('option');
                option.value = author.id;
                option.textContent = author.name;
                authorSelect.appendChild(option);
            });
        }

        // Call these functions when the page loads
        window.addEventListener('load', () => {
            populateForm();
            populateDropdowns();
        });
    </script>
</body>
</html>




<!--Product view.html-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Product | WordBloom Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2b5f5f;
            --secondary-color: #dc2626;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --info-color: #3b82f6;
            --text-color: #333;
            --light-gray: #f3f4f6;
            --medium-gray: #9ca3af;
            --dark-gray: #4b5563;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-gray);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .admin-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .admin-nav {
            display: flex;
            gap: 1rem;
        }

        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .admin-nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .admin-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
        }

        .product-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .product-info h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .product-info p {
            margin-bottom: 0.5rem;
        }

        .product-images {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
        }

        .product-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 4px;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e4545;
        }

        .btn-secondary {
            background-color: var(--medium-gray);
            color: var(--text-color);
        }

        .btn-secondary:hover {
            background-color: var(--dark-gray);
            color: white;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .admin-content {
                padding: 1rem;
            }

            .product-details {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header class="admin-header">
        <h1 class="admin-title">WordBloom Admin</h1>
        <nav class="admin-nav">
            <a href="#">Dashboard</a>
            <a href="#">Products</a>
            <a href="#">Orders</a>
            <a href="#">Users</a>
            <a href="#">Logout</a>
        </nav>
    </header>

    <div class="container">
        <div class="admin-content">
            <div class="product-details">
                <div class="product-info">
                    <h2>{{ product.product_name }}</h2>
                    <p><strong>ID:</strong> {{ product.product_id }}</p>
                    <p><strong>Category:</strong> {{ product.category.category_name }}</p>
                    <p><strong>Author:</strong> {{ product.author.name }}</p>
                    <p><strong>Price:</strong> ${{ product.price }}</p>
                    {% if product.discounted_price %}
                        <p><strong>Discounted Price:</strong> ${{ product.discounted_price }}</p>
                    {% endif %}
                    <p><strong>Stock:</strong> {{ product.stock }}</p>
                    <p><strong>Status:</strong> {% if product.is_active %}Active{% else %}Inactive{% endif %}</p>
                    <p><strong>Sold Out:</strong> {% if product.is_sold_out %}Yes{% else %}No{% endif %}</p>
                    <p><strong>Created At:</strong> {{ product.created_at|date:"F d, Y H:i" }}</p>
                    <p><strong>Updated At:</strong> {{ product.updated_at|date:"F d, Y H:i" }}</p>
                    <h3>Description:</h3>
                    <p>{{ product.product_description }}</p>
                </div>
                <div class="product-images">
                    {% for image in product.images.all %}
                        <img src="{{ image.image.url }}" alt="Product Image" class="product-image">
                    {% empty %}
                        <p>No images available for this product.</p>
                    {% endfor %}
                </div>
            </div>
            <div class="action-buttons">
                <a href="{% url 'products:edit_product' product.product_id %}" class="btn btn-primary">
                    <i class="ri-edit-line"></i> Edit Product
                </a>
                <a href="#" class="btn btn-secondary" onclick="window.history.back();">
                    <i class="ri-arrow-left-line"></i> Back to List
                </a>
            </div>
        </div>
    </div>
</body>
</html>





<!--Product-details.html from claude ai-->
{% extends 'base.html' %}

{% block title %}WordBloom : Ratan Tata: A Life{% endblock %}

{% block page_styles %}
<style>
    :root {
        --primary-color: #2b5f5f;
        --secondary-color: #dc2626;
        --accent-color: #d97706;
        --text-color: #333;
        --light-gray: #f3f4f6;
        --medium-gray: #9ca3af;
        --dark-gray: #4b5563;
    }

    /* Existing product page styles */
    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }

    .product-container {
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 2rem;
    }

    .product-grid {
        display: grid;
        gap: 2rem;
        grid-template-columns: 1fr 1fr;
    }

    /* Image Zoom and Thumbnail Styles */
    .product-images {
        position: relative;
    }

    .main-image {
        position: relative;
        border: 3px solid var(--light-gray);
        border-radius: 8px;
        overflow: hidden;
        cursor: zoom-in;
    }

    .main-image img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform 0.3s ease;
    }

    .main-image:hover img {
        transform: scale(1.1);
    }

    .thumbnail-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-top: 1rem;
    }

    .thumbnail {
        border: 2px solid var(--light-gray);
        border-radius: 4px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .thumbnail:hover, 
    .thumbnail.active {
        border-color: var(--primary-color);
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Magnified image container */
    .magnified-image-container {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 500px;
        height: 500px;
        background: white;
        border: 2px solid var(--primary-color);
        z-index: 1000;
        display: none;
        overflow: hidden;
        box-shadow: 0 0 20px rgba(0,0,0,0.2);
    }

    .magnified-image-container img {
        position: absolute;
        max-width: none;
        max-height: none;
    }

    /* Remaining existing styles from the previous template */
    /* ... (price, rating, buttons, etc. styles remain the same) ... */

    /* Responsive Design */
    @media (max-width: 1024px) {
        .product-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<main>
    <div class="container">
        <div class="product-container">
            <div class="product-grid">
                <!-- Image Gallery Section -->
                <div class="product-images">
                    <div class="main-image" id="mainImageContainer">
                        <img src="{{ book.main_image_url }}" alt="{{ book.title }}" id="mainImage">
                    </div>
                    
                    <div class="thumbnail-grid">
                        {% for image in book.images %}
                        <div class="thumbnail {% if loop.first %}active{% endif %}">
                            <img src="{{ image }}" alt="{{ book.title }} - Thumbnail {{ loop.index }}">
                        </div>
                        {% endfor %}
                    </div>
                    
                    <!-- Magnified Image Container -->
                    <div class="magnified-image-container" id="magnifiedImageContainer">
                        <img id="magnifiedImage" src="" alt="Magnified Image">
                    </div>
                </div>

                <!-- Product Information Section -->
                <div class="product-info">
                    <h1 class="product-title">{{ book.title }}</h1>
                    
                    <div class="rating-section">
                        <div class="stars">
                            {% for i in range(book.rating) %}â{% endfor %}{% for i in range(5 - book.rating) %}â{% endfor %}
                        </div>
                        <span class="review-count">({{ book.review_count }} reviews)</span>
                    </div>

                    <div class="price-section">
                        <span class="current-price" id="currentPrice">â¹{{ book.current_price }}</span>
                        <span class="original-price" id="originalPrice">â¹{{ book.original_price }}</span>
                        <span class="discount-badge">{{ book.discount }}% OFF</span>
                    </div>
                    
                    <p>Inclusive of all taxes</p>

                    <div class="format-selection">
                        <input type="radio" id="hardcover" name="format" class="format-option" checked>
                        <label for="hardcover">Hardcover</label>
                        
                        <input type="radio" id="paperback" name="format" class="format-option">
                        <label for="paperback">Paperback</label>
                    </div>

                    <div class="stock-status">
                        <i class="fas fa-check-circle"></i>
                        <span>{{ book.stock_status }}</span>
                    </div>

                    <div class="delivery-option">
                        <select>
                            <option>Delivery by Tomorrow</option>
                            <option>Delivery in 2-3 days</option>
                            <option>Delivery in 4-5 days</option>
                        </select>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="buyNow('{{ book.id }}')">
                            <i class="fas fa-shopping-cart"></i>
                            Buy Now
                        </button>
                        <button class="btn btn-secondary" onclick="addToCart('{{ book.id }}')">
                            <i class="fas fa-cart-plus"></i>
                            Add to Cart
                        </button>
                        <button class="btn btn-accent" onclick="addToWishlist('{{ book.id }}')">
                            <i class="fas fa-heart"></i>
                            Add to Wishlist
                        </button>
                    </div>
                </div>
            </div>

            <!-- Tabs Section -->
            <div class="tabs">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="description">Description</button>
                    <button class="tab-button" data-tab="details">Product Details</button>
                    <button class="tab-button" data-tab="reviews">Reviews</button>
                </div>

                <div class="tab-content active" id="description">
                    <h3>About the Book</h3>
                    <p>{{ book.description }}</p>
                    <h4>Key Highlights</h4>
                    <ul>
                        {% for highlight in book.highlights %}
                            <li>{{ highlight }}</li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="tab-content" id="details">
                    <div class="product-details">
                        <p><strong>Author:</strong> {{ book.author }}</p>
                        <p><strong>Publisher:</strong> {{ book.publisher }}</p>
                        <p><strong>ISBN:</strong> {{ book.isbn }}</p>
                        <p><strong>Pages:</strong> {{ book.pages }}</p>
                        <p><strong>Language:</strong> {{ book.language }}</p>
                        <p><strong>Publication Date:</strong> {{ book.publication_date }}</p>
                    </div>
                </div>

                <div class="tab-content" id="reviews">
                    <div class="review-summary">
                        <h3>Customer Reviews</h3>
                        <div class="rating-section">
                            <div class="stars">
                                {% for i in range(book.average_rating) %}â{% endfor %}{% for i in range(5 - book.average_rating) %}â{% endfor %}
                            </div>
                            <span>{{ book.average_rating }} out of 5</span>
                        </div>
                        <p>Based on {{ book.review_count }} reviews</p>
                    </div>

                    <div class="review-list">
                        {% for review in book.reviews %}
                        <div class="review-item">
                            <div class="stars">
                                {% for i in range(review.rating) %}â{% endfor %}{% for i in range(5 - review.rating) %}â{% endfor %}
                            </div>
                            <p><strong>{{ review.author }}</strong></p>
                            <p>{{ review.content }}</p>
                            <small>{{ review.date }}</small>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="review-form">
                        <h3>Write a Review</h3>
                        <form action="{% url 'submit_review' book.id %}" method="POST">
                            {% csrf_token %}
                            <div class="form-group">
                                <label class="form-label">Rating</label>
                                <select name="rating" class="form-input" required>
                                    <option value="5">âââââ (5/5)</option>
                                    <option value="4">âââââ (4/5)</option>
                                    <option value="3">âââââ (3/5)</option>
                                    <option value="2">âââââ (2/5)</option>
                                    <option value="1">âââââ (1/5)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Your Review</label>
                                <textarea name="content" class="form-textarea" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit Review</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

{% block extra_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const mainImageContainer = document.getElementById('mainImageContainer');
        const mainImage = document.getElementById('mainImage');
        const magnifiedImageContainer = document.getElementById('magnifiedImageContainer');
        const magnifiedImage = document.getElementById('magnifiedImage');
        const thumbnails = document.querySelectorAll('.thumbnail');

        // Thumbnail Selection
        thumbnails.forEach(thumbnail => {
            thumbnail.addEventListener('click', function() {
                // Remove active class from all thumbnails
                thumbnails.forEach(t => t.classList.remove('active'));
                
                // Add active class to clicked thumbnail
                this.classList.add('active');
                
                // Update main image
                const newSrc = this.querySelector('img').src;
                mainImage.src = newSrc;
            });
        });

        // Image Zoom Functionality
        mainImageContainer.addEventListener('mouseenter', function() {
            // Prepare magnified image when mouse enters
            magnifiedImage.src = mainImage.src;
            magnifiedImageContainer.style.display = 'block';
        });

        mainImageContainer.addEventListener('mousemove', function(e) {
            // Calculate magnification
            const containerRect = mainImageContainer.getBoundingClientRect();
            const x = e.clientX - containerRect.left;
            const y = e.clientY - containerRect.top;

            const ratioX = magnifiedImage.naturalWidth / mainImageContainer.offsetWidth;
            const ratioY = magnifiedImage.naturalHeight / mainImageContainer.offsetHeight;

            magnifiedImage.style.width = `${mainImageContainer.offsetWidth * ratioX}px`;
            magnifiedImage.style.height = `${mainImageContainer.offsetHeight * ratioY}px`;

            // Move magnified image
            magnifiedImage.style.left = `-${x * ratioX}px`;
            magnifiedImage.style.top = `-${y * ratioY}px`;
        });

        mainImageContainer.addEventListener('mouseleave', function() {
            // Hide magnified image
            magnifiedImageContainer.style.display = 'none';
        });

        // Magnified Image Container Close
        magnifiedImageContainer.addEventListener('click', function() {
            this.style.display = 'none';
        });

        // Format Price Update
        const formatOptions = document.querySelectorAll('.format-option');
        const currentPrice = document.getElementById('currentPrice');
        const originalPrice = document.getElementById('originalPrice');
        
        formatOptions.forEach(option => {
            option.addEventListener('change', function() {
                if (this.id === 'hardcover') {
                    currentPrice.textContent = 'â¹1,199';
                    originalPrice.textContent = 'â¹1,499';
                } else {
                    currentPrice.textContent = 'â¹999';
                    originalPrice.textContent = 'â¹1,299';
                }
            });
        });

        // Tab Switching
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');
                
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                button.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });
    });

    // Action Handlers
    function buyNow(bookId) {
        window.location.href = `/buy/${bookId}`;
    }

    function addToCart(bookId) {
        fetch(`/cart/add/${bookId}`, { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                alert('Book added to cart!');
            });
    }

    function addToWishlist(bookId) {
        fetch(`/wishlist/add/${bookId}`, { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                alert('Book added to wishlist!');
            });
    }
</script>
{% endblock %}
{% endblock %} 









<!--for button of description-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail - BookStore</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f39c12;
            --accent-color: #e74c3c;
            --text-color: #333;
            --background-color: #f5f5f5;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        h1 {
            color: var(--primary-color);
        }

        .product-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .format-options {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .format-option {
            display: none;
        }

        .format-option + label {
            padding: 12px 24px;
            border: 2px solid #4a90e2;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            color: #4a90e2;
            font-weight: 600;
            text-align: center;
            min-width: 120px;
        }

        .format-option:checked + label {
            background-color: #4a90e2;
            color: white;
        }

        .price {
            font-size: 2rem;
            font-weight: 700;
            color: #e74c3c;
            margin: 1rem 0;
        }

        .stock-status {
            color: #27ae60;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .delivery-option {
            margin-bottom: 20px;
        }

        .delivery-option select {
            width: 100%;
            padding: 12px;
            border: 2px solid #4a90e2;
            border-radius: 25px;
            background-color: white;
            color: #333;
            font-size: 1rem;
            cursor: pointer;
            margin-bottom: 1.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn {
            flex: 1;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
        }

        .btn-primary {
            background-color: #4a90e2;
            color: white;
        }

        .btn-secondary {
            background-color: #f39c12;
            color: white;
        }

        .btn-accent {
            background-color: #e74c3c;
            color: white;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .product-details {
            margin-top: 20px;
        }

        .tab-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .tab-button {
            padding: 12px 24px;
            background: none;
            border: 2px solid #4a90e2;
            border-radius: 25px;
            color: #4a90e2;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background-color: #4a90e2;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>The Great Gatsby</h1>
        <img src="/placeholder.svg?height=400&width=300" alt="The Great Gatsby" class="product-image">
        
        <div class="format-options">
            <input type="radio" id="hardcover" name="format" class="format-option" checked>
            <label for="hardcover">Hardcover</label>
            
            <input type="radio" id="paperback" name="format" class="format-option">
            <label for="paperback">Paperback</label>
        </div>
        
        <div class="price">â¹1,499</div>
        
        <div class="stock-status">In Stock</div>
        
        <div class="delivery-option">
            <select>
                <option>Delivery by Tomorrow</option>
                <option>Delivery in 2-3 days</option>
                <option>Delivery in 4-5 days</option>
            </select>
        </div>
        
        <div class="action-buttons">
            <button class="btn btn-primary">
                <i class="fas fa-shopping-cart"></i>
                Buy Now
            </button>
            <button class="btn btn-secondary">
                <i class="fas fa-cart-plus"></i>
                Add to Cart
            </button>
            <button class="btn btn-accent">
                <i class="fas fa-heart"></i>
                Add to Wishlist
            </button>
        </div>
        
        <div class="product-details">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="description">Description</button>
                <button class="tab-button" data-tab="details">Product Details</button>
            </div>
            
            <div class="tab-content active" id="description">
                <p>The Great Gatsby is a 1925 novel by American writer F. Scott Fitzgerald. Set in the Jazz Age on Long Island, near New York City, the novel depicts first-person narrator Nick Carraway's interactions with mysterious millionaire Jay Gatsby and Gatsby's obsession to reunite with his former lover, Daisy Buchanan.</p>
            </div>
            
            <div class="tab-content" id="details">
                <p><strong>Author:</strong> F. Scott Fitzgerald</p>
                <p><strong>Category:</strong> Classic Literature</p>
                <p><strong>ISBN:</strong> 978-0743273565</p>
                <p><strong>Publication Date:</strong> April 10, 1925</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Format selection with price updates
            const formatOptions = document.querySelectorAll('.format-option');
            const priceElement = document.querySelector('.price');
            
            formatOptions.forEach(option => {
                option.addEventListener('change', function() {
                    if (this.id === 'hardcover') {
                        priceElement.textContent = 'â¹1,499';
                    } else {
                        priceElement.textContent = 'â¹999';
                    }
                });
            });

            // Tab switching
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.getAttribute('data-tab');
                    
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    button.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        });
    </script>
</body>
</html>



<!--code for hardcover and paperback model button-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ratan Tata: A Life - Product Detail</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2b5f5f;
            --secondary-color: #dc2626;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --text-color: #333;
            --light-gray: #f3f4f6;
            --medium-gray: #9ca3af;
            --dark-gray: #4b5563;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-gray);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .product-grid {
            display: grid;
            gap: 2rem;
            grid-template-columns: 1fr;
        }

        @media (min-width: 768px) {
            .product-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .product-images {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .main-image {
            position: relative;
            aspect-ratio: 3/4;
            overflow: hidden;
            border-radius: 0.5rem;
            background-color: var(--light-gray);
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .thumbnail {
            aspect-ratio: 3/4;
            overflow: hidden;
            border-radius: 0.5rem;
            background-color: var(--light-gray);
            cursor: pointer;
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .product-title {
            font-size: 2rem;
            font-weight: 700;
        }

        .product-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .rating {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .star {
            color: var(--warning-color);
        }

        .price {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .original-price {
            text-decoration: line-through;
            color: var(--medium-gray);
        }

        .discount {
            background-color: var(--success-color);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }

        .format-selection {
            display: flex;
            gap: 1rem;
        }

        .format-option {
            flex: 1;
            padding: 1rem;
            border: 2px solid var(--medium-gray);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .format-option.selected {
            border-color: var(--primary-color);
            background-color: var(--light-gray);
        }

        .format-option h3 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .format-option p {
            font-size: 0.875rem;
            color: var(--medium-gray);
        }

        .stock-status {
            font-weight: 600;
        }

        .in-stock {
            color: var(--success-color);
        }

        .out-of-stock {
            color: var(--danger-color);
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            flex: 1;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.25rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background-color: var(--light-gray);
            color: var(--text-color);
        }

        .btn-tertiary {
            background-color: var(--warning-color);
            color: white;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .tabs {
            margin-top: 2rem;
        }

        .tab-buttons {
            display: flex;
            border-bottom: 1px solid var(--medium-gray);
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-weight: 600;
        }

        .tab-button.active {
            border-bottom-color: var(--primary-color);
        }

        .tab-content {
            padding: 1.5rem 0;
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }

        .similar-books {
            margin-top: 2rem;
        }

        .similar-books h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .book-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .book-card {
            background-color: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .book-card img {
            width: 100%;
            aspect-ratio: 3/4;
            object-fit: cover;
        }

        .book-info {
            padding: 1rem;
        }

        .book-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .book-author {
            font-size: 0.875rem;
            color: var(--medium-gray);
            margin-bottom: 0.5rem;
        }

        .book-price {
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="product-grid">
            <div class="product-images">
                <div class="main-image">
                    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Ratan Tata: A Life">
                </div>
                <div class="thumbnail-grid">
                    <div class="thumbnail">
                        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Thumbnail 1">
                    </div>
                    <div class="thumbnail">
                        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Thumbnail 2">
                    </div>
                    <div class="thumbnail">
                        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Thumbnail 3">
                    </div>
                    <div class="thumbnail">
                        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Thumbnail 4">
                    </div>
                </div>
            </div>
            <div class="product-info">
                <h1 class="product-title">Ratan Tata: A Life</h1>
                <div class="product-meta">
                    <div class="rating">
                        <span class="star">âââââ</span>
                        <span>(128 reviews)</span>
                    </div>
                    <button class="btn-secondary">Share</button>
                </div>
                <div class="price">
                    <span class="current-price">â¹1,199</span>
                    <span class="original-price">â¹1,499</span>
                    <span class="discount">20% OFF</span>
                </div>
                <p>Inclusive of all taxes</p>
                <div class="format-selection">
                    <div class="format-option selected" data-format="hardcover">
                        <h3>Hardcover</h3>
                        <p>Premium quality bound</p>
                        <p>â¹1,199</p>
                    </div>
                    <div class="format-option" data-format="paperback">
                        <h3>Paperback</h3>
                        <p>Standard quality</p>
                        <p>â¹999</p>
                    </div>
                </div>
                <p class="stock-status in-stock">In Stock</p>
                <p>Delivery by 25th Dec</p>
                <div class="action-buttons">
                    <button class="btn btn-primary">Buy Now</button>
                    <button class="btn btn-secondary">Add to Cart</button>
                    <button class="btn btn-tertiary">Add to Wishlist</button>
                </div>
            </div>
        </div>

        <div class="tabs">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="description">Description</button>
                <button class="tab-button" data-tab="details">Product Details</button>
                <button class="tab-button" data-tab="reviews">Reviews</button>
            </div>
            <div class="tab-content">
                <div class="tab-pane active" id="description">
                    <h3>About the Book</h3>
                    <p>An authorized biography of one of India's most respected business leaders. This book chronicles the life of Ratan Tata, from his childhood to his role as the chairman of Tata Sons, capturing the essence of his vision, principles, and transformative impact on Indian industry.</p>
                    <h4>Key Highlights</h4>
                    <ul>
                        <li>Comprehensive coverage of Ratan Tata's business philosophy</li>
                        <li>Behind-the-scenes look at major business decisions</li>
                        <li>Insights into the transformation of the Tata Group</li>
                        <li>Personal anecdotes and leadership lessons</li>
                    </ul>
                </div>
                <div class="tab-pane" id="details">
                    <div class="product-details">
                        <p><strong>Author:</strong> Thomas Mathew</p>
                        <p><strong>Publisher:</strong> HarperCollins India</p>
                        <p><strong>Category:</strong> Biography, Business</p>
                        <p><strong>ISBN:</strong> 978-1234567890</p>
                        <p><strong>Pages:</strong> 400</p>
                        <p><strong>Language:</strong> English</p>
                        <p><strong>Publication Date:</strong> November 15, 2023</p>
                    </div>
                </div>
                <div class="tab-pane" id="reviews">
                    <div class="review-summary">
                        <h3>Customer Reviews</h3>
                        <div class="rating">
                            <span class="star">âââââ</span>
                            <span>4.5 out of 5</span>
                        </div>
                        <p>Based on 128 reviews</p>
                    </div>
                    <!-- Add more detailed reviews here -->
                </div>
            </div>
        </div>

        <div class="similar-books">
            <h2>Similar Books</h2>
            <div class="book-grid">
                <div class="book-card">
                    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Similar Book 1">
                    <div class="book-info">
                        <h3 class="book-title">Business Biography</h3>
                        <p class="book-author">Author Name</p>
                        <p class="book-price">â¹999</p>
                    </div>
                </div>
                <div class="book-card">
                    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Similar Book 2">
                    <div class="book-info">
                        <h3 class="book-title">Business Biography</h3>
                        <p class="book-author">Author Name</p>
                        <p class="book-price">â¹999</p>
                    </div>
                </div>
                <div class="book-card">
                    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Similar Book 3">
                    <div class="book-info">
                        <h3 class="book-title">Business Biography</h3>
                        <p class="book-author">Author Name</p>
                        <p class="book-price">â¹999</p>
                    </div>
                </div>
                <div class="book-card">
                    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-aQUBVe4jj70D35FpMAkozKwfCJtO4O.png" alt="Similar Book 4">
                    <div class="book-info">
                        <h3 class="book-title">Business Biography</h3>
                        <p class="book-author">Author Name</p>
                        <p class="book-price">â¹999</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Format selection
            const formatOptions = document.querySelectorAll('.format-option');
            formatOptions.forEach(option => {
                option.addEventListener('click', function() {
                    formatOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    updatePrice(this.getAttribute('data-format'));
                });
            });

            // Tabs functionality
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanes = document.querySelectorAll('.tab-pane');
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanes.forEach(pane => pane.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Thumbnail image click handler
            const thumbnails = document.querySelectorAll('.thumbnail');
            const mainImage = document.querySelector('.main-image img');
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    const newSrc = this.querySelector('img').src;
                    mainImage.src = newSrc;
                });
            });

            // Update price based on selected format
            function updatePrice(format) {
                const priceElement = document.querySelector('.current-price');
                if (format === 'hardcover') {
                    priceElement.textContent = 'â¹1,199';
                } else if (format === 'paperback') {
                    priceElement.textContent = 'â¹999';
                }
            }

            // Simulated stock status update
            function updateStockStatus() {
                const stockStatus = document.querySelector('.stock-status');
                const inStock = Math.random() < 0.8; // 80% chance of being in stock
                if (inStock) {
                    stockStatus.textContent = 'In Stock';
                    stockStatus.classList.add('in-stock');
                    stockStatus.classList.remove('out-of-stock');
                } else {
                    stockStatus.textContent = 'Out of Stock';
                    stockStatus.classList.add('out-of-stock');
                    stockStatus.classList.remove('in-stock');
                }
            }

            // Call updateStockStatus on page load
            updateStockStatus();
        });
    </script>
</body>
</html>












<!--Product detail page - For taking image layout-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordBloom : Ratan Tata: A Life</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Outfit', sans-serif;
        }
        body {
            line-height: 1.6;
            color: #333;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .product-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            display: flex;
            gap: 2rem;
        }
        .product-images {
            flex: 1;
            display: flex;
            gap: 1rem;
        }
        .thumbnail-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .thumbnail {
            width: 80px;
            height: 80px;
            border: 2px solid #f3f4f6;
            border-radius: 4px;
            overflow: hidden;
            cursor: pointer;
        }
        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .main-image {
            flex: 1;
            position: relative;
            border: 3px solid #f3f4f6;
            border-radius: 8px;
            overflow: hidden;
        }
        .main-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        .zoom-window {
            display: none;
            position: absolute;
            width: 200px;
            height: 200px;
            border: 2px solid #2b5f5f;
            background-repeat: no-repeat;
            background-size: 600%;
            pointer-events: none;
        }
        .product-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .product-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2b5f5f;
        }
        .author {
            font-size: 1.2rem;
            color: #666;
        }
        .rating-section {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .stars {
            color: #ffc107;
            font-size: 1.25rem;
        }
        .review-count {
            color: #666;
        }
        .price-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .current-price {
            font-size: 2rem;
            font-weight: 700;
            color: #2b5f5f;
        }
        .original-price {
            font-size: 1.5rem;
            color: #999;
            text-decoration: line-through;
        }
        .discount-badge {
            background-color: #e53935;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        .format-selection {
            display: flex;
            gap: 1rem;
        }
        .format-option {
            display: none;
        }
        .format-option + label {
            padding: 0.75rem 1.5rem;
            border: 2px solid #2b5f5f;
            border-radius: 0.5rem;
            color: #2b5f5f;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 600;
        }
        .format-option:checked + label {
            background-color: #2b5f5f;
            color: white;
        }
        .stock-status {
            color: #4caf50;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .delivery-option select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #2b5f5f;
            border-radius: 0.5rem;
            font-size: 1rem;
            color: #2b5f5f;
        }
        .action-buttons {
            display: flex;
            gap: 1rem;
        }
        .btn {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 1rem;
        }
        .btn-primary {
            background-color: #2b5f5f;
            color: white;
        }
        .btn-secondary {
            background-color: #fff;
            color: #2b5f5f;
            border: 2px solid #2b5f5f;
        }
        .btn:hover {
            opacity: 0.9;
        }
        .product-description {
            margin-top: 2rem;
        }
        .product-description h2 {
            color: #2b5f5f;
            margin-bottom: 1rem;
        }
        @media (max-width: 768px) {
            .product-container {
                flex-direction: column;
            }
            .product-images {
                flex-direction: column-reverse;
            }
            .thumbnail-grid {
                flex-direction: row;
                overflow-x: auto;
            }
            .thumbnail {
                flex-shrink: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="product-container">
            <div class="product-images">
                <div class="thumbnail-grid">
                    <div class="thumbnail">
                        <img src="https://example.com/thumbnail1.jpg" alt="Thumbnail 1">
                    </div>
                    <div class="thumbnail">
                        <img src="https://example.com/thumbnail2.jpg" alt="Thumbnail 2">
                    </div>
                    <div class="thumbnail">
                        <img src="https://example.com/thumbnail3.jpg" alt="Thumbnail 3">
                    </div>
                    <div class="thumbnail">
                        <img src="https://example.com/thumbnail4.jpg" alt="Thumbnail 4">
                    </div>
                </div>
                <div class="main-image">
                    <img src="https://example.com/main-image.jpg" alt="Ratan Tata: A Life" id="mainImage">
                    <div class="zoom-window" id="zoomWindow"></div>
                </div>
            </div>
            <div class="product-info">
                <h1 class="product-title">Ratan Tata: A Life</h1>
                <p class="author">By Thomas Mathew</p>
                <div class="rating-section">
                    <div class="stars">âââââ</div>
                    <span class="review-count">128 reviews</span>
                </div>
                <div class="price-section">
                    <span class="current-price" id="currentPrice">â¹1,199</span>
                    <span class="original-price" id="originalPrice">â¹1,499</span>
                    <span class="discount-badge">20% OFF</span>
                </div>
                <p>Inclusive of all taxes</p>
                <div class="format-selection">
                    <input type="radio" id="hardcover" name="format" class="format-option" checked>
                    <label for="hardcover">Hardcover</label>
                    <input type="radio" id="paperback" name="format" class="format-option">
                    <label for="paperback">Paperback</label>
                </div>
                <div class="stock-status">
                    <i class="fas fa-check-circle"></i>
                    <span>In Stock</span>
                </div>
                <div class="delivery-option">
                    <select>
                        <option>Delivery by Tomorrow</option>
                        <option>Delivery in 2-3 days</option>
                        <option>Delivery in 4-5 days</option>
                    </select>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary">
                        <i class="fas fa-shopping-cart"></i>
                        Add to Cart
                    </button>
                    <button class="btn btn-secondary">
                        <i class="fas fa-heart"></i>
                        Add to Wishlist
                    </button>
                </div>
            </div>
        </div>
        <div class="product-description">
            <h2>About the Book</h2>
            <p>An authorized biography of one of India's most respected business leaders. This book chronicles the life of Ratan Tata, from his childhood to his role as the chairman of Tata Sons, capturing the essence of his vision, principles, and transformative impact on Indian industry.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Format selection with price updates
            const formatOptions = document.querySelectorAll('.format-option');
            const currentPrice = document.getElementById('currentPrice');
            const originalPrice = document.getElementById('originalPrice');

            formatOptions.forEach(option => {
                option.addEventListener('change', function() {
                    if (this.id === 'hardcover') {
                        currentPrice.textContent = 'â¹1,199';
                        originalPrice.textContent = 'â¹1,499';
                    } else {
                        currentPrice.textContent = 'â¹999';
                        originalPrice.textContent = 'â¹1,299';
                    }
                });
            });

            // Thumbnail image click handler
            const thumbnails = document.querySelectorAll('.thumbnail');
            const mainImage = document.getElementById('mainImage');
            const zoomWindow = document.getElementById('zoomWindow');

            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    const newSrc = this.querySelector('img').src;
                    mainImage.src = newSrc;
                });
            });

            // Zoom functionality
            mainImage.addEventListener('mousemove', (e) => {
                const rect = mainImage.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                zoomWindow.style.display = 'block';
                zoomWindow.style.left = `${x}px`;
                zoomWindow.style.top = `${y}px`;
                zoomWindow.style.backgroundImage = `url(${mainImage.src})`;

                const bgX = (x / mainImage.offsetWidth) * 100;
                const bgY = (y / mainImage.offsetHeight) * 100;

                zoomWindow.style.backgroundPosition = `${bgX}% ${bgY}%`;
            });

            mainImage.addEventListener('mouseleave', () => {
                zoomWindow.style.display = 'none';
            });
        });
    </script>
</body>
</html> 









<!--Adminside - product-edit page before updation 16-12-2024-->
{% extends 'admin_base.html' %}

{% block title %}Wordbloom : Admin Dashboard{% endblock %}
{% block extra_css %}
<style>
    :root {
            --primary-color: #2b5f5f;
            --secondary-color: #dc2626;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --info-color: #3b82f6;
            --text-color: #333;
            --light-gray: #f3f4f6;
            --medium-gray: #9ca3af;
            --dark-gray: #4b5563;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-gray);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .admin-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .admin-nav {
            display: flex;
            gap: 1rem;
        }

        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .admin-nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .admin-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--medium-gray);
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e4545;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #b91c1c;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .image-preview {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .preview-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .admin-content {
                padding: 1rem;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
</style>
{% endblock %}

{% block content %}
<div class="admin-content">
    <h2>Edit Product</h2>
    <form id="editProductForm" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
    
        <div class="form-group">
            <label for="product_id">Product ID</label>
            <input type="text" id="product_id" name="product_id" class="form-control" value="{{ product.product_id }}" readonly>
        </div>
    
        <div class="form-group">
            <label for="product_name">Product Name</label>
            <input type="text" id="product_name" name="product_name" class="form-control" value="{{ product.product_name }}" required>
        </div>
    
        <div class="form-group">
            <label for="product_description">Product Description</label>
            <textarea id="product_description" name="product_description" class="form-control" rows="4" required>{{ product.product_description }}</textarea>
        </div>
    
        <div class="form-group">
            <label for="category_id">Category</label>
            <select id="category_id" name="category_id" class="form-control" required>
                <option value="">Select a category</option>
                {% for category in categories %}
                    <option value="{{ category.id }}" {% if category.id == product.category_id %}selected{% endif %}>
                        {{ category.name }}
                    </option>
                {% endfor %}
            </select>
        </div>
    
        <div class="form-group">
            <label for="author_id">Author</label>
            <select id="author_id" name="author_id" class="form-control" required>
                <option value="">Select an author</option>
                {% for author in authors %}
                    <option value="{{ author.id }}" {% if author.id == product.author_id %}selected{% endif %}>
                        {{ author.name }}
                    </option>
                {% endfor %}
            </select>
        </div>
    
        <div class="form-group">
            <label for="isbn">ISBN</label>
            <input type="text" id="isbn" name="isbn" class="form-control" value="{{ product.isbn }}" required>
        </div>
    
        <div class="form-group">
            <label for="price">Price</label>
            <input type="number" id="price" name="price" class="form-control" step="0.01" value="{{ product.price }}" required>
        </div>
    
        <div class="form-group">
            <label for="discount_price">Discount Price</label>
            <input type="number" id="discount_price" name="discount_price" class="form-control" step="0.01" value="{{ product.discount_price }}">
        </div>
    
        <div class="form-group">
            <label for="stock_quantity">Stock Quantity</label>
            <input type="number" id="stock_quantity" name="stock_quantity" class="form-control" value="{{ product.stock_quantity }}" required>
        </div>
    
        <div class="form-group">
            <label for="publication_date">Publication Date</label>
            <input type="date" id="publication_date" name="publication_date" class="form-control" value="{{ product.publication_date|date:"Y-m-d" }}" required>
        </div>
    
        <div class="form-group">
            <label for="language">Language</label>
            <input type="text" id="language" name="language" class="form-control" value="{{ product.language }}" required>
        </div>
    
        <div class="form-group">
            <label for="page_count">Page Count</label>
            <input type="number" id="page_count" name="page_count" class="form-control" value="{{ product.page_count }}" required>
        </div>
    
        <div class="form-group checkbox-group">
            <input type="checkbox" id="is_featured" name="is_featured" {% if product.is_featured %}checked{% endif %}>
            <label for="is_featured">Featured</label>
        </div>
    
        <div class="form-group checkbox-group">
            <input type="checkbox" id="is_active" name="is_active" {% if product.is_active %}checked{% endif %}>
            <label for="is_active">Active</label>
        </div>
    
        <div class="form-group">
            <label for="product_images">Product Images</label>
            <input type="file" id="product_images" name="product_images" class="form-control" multiple accept="image/*">
        </div>
    
        <div class="image-preview">
            {% for image in product.images.all %}
                <img src="{{ image.image.url }}" alt="Product Image" class="preview-image">
            {% endfor %}
        </div>
    
        <div class="action-buttons">
            <button type="submit" class="btn btn-primary"><i class="ri-save-line"></i> Save Changes</button>
            <a href="{% url 'products:delete_product' product.product_id %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this product?');">
                <i class="ri-delete-bin-line"></i> Delete Product
            </a>
        </div>
    </form>    
</div>
<script>
    document.getElementById('id_image').addEventListener('change', function(e) {
        const previewContainer = document.querySelector('.image-preview');
        previewContainer.innerHTML = ''; // Clear existing previews

        for (let file of e.target.files) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.createElement('img');
                img.src = e.target.result;
                img.alt = 'Preview';
                img.className = 'preview-image';
                previewContainer.appendChild(img);
            }
            reader.readAsDataURL(file);
        }
    });
</script>
{% endblock %}






<!--Adminside - product-view page before updation 16-12-2024-->




<!--Adminside - product-add page before updation 16-12-2024-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Product | WordBloom Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
    <style>
        :root {
            --primary-color: #2b5f5f;
            --secondary-color: #dc2626;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --text-color: #333;
            --light-gray: #f3f4f6;
            --medium-gray: #9ca3af;
            --dark-gray: #4b5563;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-gray);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .admin-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .admin-nav {
            display: flex;
            gap: 1rem;
        }

        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .admin-nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .admin-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .form-control {
            padding: 0.5rem;
            border: 1px solid var(--medium-gray);
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e4545;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #047857;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #b91c1c;
        }

        .variant-container, .image-container {
            border: 1px solid var(--medium-gray);
            border-radius: 4px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .variant-header, .image-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .variant-title, .image-title {
            font-weight: 600;
        }

        .variant-list, .image-list {
            display: grid;
            gap: 1rem;
        }

        .variant-item, .image-item {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            align-items: center;
            padding: 0.5rem;
            background-color: var(--light-gray);
            border-radius: 4px;
        }

        .variant-item button, .image-item button {
            justify-self: end;
        }

        .image-preview {
            max-width: 100%;
            height: auto;
            margin-top: 1rem;
        }

        .cropper-container {
            margin-top: 1rem;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="admin-header">
        <h1 class="admin-title">WordBloom Admin</h1>
        <nav class="admin-nav">
            <a href="#">Dashboard</a>
            <a href="#">Products</a>
            <a href="#">Orders</a>
            <a href="#">Users</a>
            <a href="#">Logout</a>
        </nav>
    </header>

    <div class="container">
        <div class="admin-content">
            <h2>Add New Product</h2>
            <form id="add-product-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="product_name">Product Name</label>
                        <input type="text" id="product_name" name="product_name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="category_id">Category</label>
                        <select id="category_id" name="category_id" class="form-control" required>
                            <option value="">Select a category</option>
                            <!-- Categories will be populated dynamically -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="author_id">Author</label>
                        <select id="author_id" name="author_id" class="form-control" required>
                            <option value="">Select an author</option>
                            <!-- Authors will be populated dynamically -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="product_description">Product Description</label>
                        <textarea id="product_description" name="product_description" class="form-control" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="price">Original Price</label>
                        <input type="number" id="price" name="price" class="form-control" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="discounted_price">Discounted Price</label>
                        <input type="number" id="discounted_price" name="discounted_price" class="form-control" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="stock">Stock</label>
                        <input type="number" id="stock" name="stock" class="form-control" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="is_active">Active</label>
                        <select id="is_active" name="is_active" class="form-control" required>
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>
                </div>

                <div class="variant-container">
                    <div class="variant-header">
                        <h3 class="variant-title">Product Variants</h3>
                        <button type="button" class="btn btn-success add-variant-btn">Add Variant</button>
                    </div>
                    <div class="variant-list">
                        <div class="variant-item">
                            <div class="form-group">
                                <label for="variant_format_0">Format</label>
                                <select id="variant_format_0" name="variants[0][format]" class="form-control" required>
                                    <option value="Hardcover">Hardcover</option>
                                    <option value="Paperback">Paperback</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="variant_price_0">Price</label>
                                <input type="number" id="variant_price_0" name="variants[0][price]" class="form-control" step="0.01" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="variant_stock_0">Stock</label>
                                <input type="number" id="variant_stock_0" name="variants[0][stock]" class="form-control" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="variant_is_active_0">Active</label>
                                <select id="variant_is_active_0" name="variants[0][is_active]" class="form-control" required>
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <button type="button" class="btn btn-danger remove-variant">Remove</button>
                        </div>
                    </div>
                </div>

                <div class="image-container">
                    <div class="image-header">
                        <h3 class="image-title">Product Images</h3>
                        <button type="button" class="btn btn-success add-image-btn">Add Image</button>
                    </div>
                    <div class="image-list">
                        <div class="image-item">
                            <div class="form-group">
                                <label for="image_file_0">Image File</label>
                                <input type="file" id="image_file_0" name="images[0][file]" class="form-control image-input" accept="image/*" required>
                            </div>
                            <div class="form-group">
                                <label for="image_is_primary_0">Primary Image</label>
                                <select id="image_is_primary_0" name="images[0][is_primary]" class="form-control" required>
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="image_display_order_0">Display Order</label>
                                <input type="number" id="image_display_order_0" name="images[0][display_order]" class="form-control" min="0" required>
                            </div>
                            <button type="button" class="btn btn-danger remove-image">Remove</button>
                            <div class="cropper-container"></div>
                            <input type="hidden" name="images[0][cropped_data]" class="cropped-data">
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" style="margin-top: 1rem;">Add Product</button>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('add-product-form');
            const variantList = document.querySelector('.variant-list');
            const addVariantBtn = document.querySelector('.add-variant-btn');
            const imageList = document.querySelector('.image-list');
            const addImageBtn = document.querySelector('.add-image-btn');

            let variantCount = 1;
            let imageCount = 1;

            addVariantBtn.addEventListener('click', function() {
                const newVariant = document.createElement('div');
                newVariant.className = 'variant-item';
                newVariant.innerHTML = `
                    <div class="form-group">
                        <label for="variant_format_${variantCount}">Format</label>
                        <select id="variant_format_${variantCount}" name="variants[${variantCount}][format]" class="form-control" required>
                            <option value="Hardcover">Hardcover</option>
                            <option value="Paperback">Paperback</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="variant_price_${variantCount}">Price</label>
                        <input type="number" id="variant_price_${variantCount}" name="variants[${variantCount}][price]" class="form-control" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="variant_stock_${variantCount}">Stock</label>
                        <input type="number" id="variant_stock_${variantCount}" name="variants[${variantCount}][stock]" class="form-control" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="variant_is_active_${variantCount}">Active</label>
                        <select id="variant_is_active_${variantCount}" name="variants[${variantCount}][is_active]" class="form-control" required>
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>
                    <button type="button" class="btn btn-danger remove-variant">Remove</button>
                `;
                variantList.appendChild(newVariant);
                variantCount++;
            });addImageBtn.addEventListener('click', function() {
                const newImage = document.createElement('div');
                newImage.className = 'image-item';
                newImage.innerHTML = `
                    <div class="form-group">
                        <label for="image_file_${imageCount}">Image File</label>
                        <input type="file" id="image_file_${imageCount}" name="images[${imageCount}][file]" class="form-control image-input" accept="image/*" required>
                    </div>
                    <div class="form-group">
                        <label for="image_is_primary_${imageCount}">Primary Image</label>
                        <select id="image_is_primary_${imageCount}" name="images[${imageCount}][is_primary]" class="form-control" required>
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="image_display_order_${imageCount}">Display Order</label>
                        <input type="number" id="image_display_order_${imageCount}" name="images[${imageCount}][display_order]" class="form-control" min="0" required>
                    </div>
                    <button type="button" class="btn btn-danger remove-image">Remove</button>
                    <div class="cropper-container"></div>
                    <input type="hidden" name="images[${imageCount}][cropped_data]" class="cropped-data">
                `;
                imageList.appendChild(newImage);
                imageCount++;
                initializeCropper(newImage.querySelector('.image-input'));
            });

            variantList.addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-variant')) {
                    e.target.closest('.variant-item').remove();
                }
            });

            imageList.addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-image')) {
                    e.target.closest('.image-item').remove();
                }
            });

            function initializeCropper(input) {
                input.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            const imageItem = input.closest('.image-item');
                            const cropperContainer = imageItem.querySelector('.cropper-container');
                            cropperContainer.innerHTML = '<img src="' + event.target.result + '" style="max-width: 100%;">';
                            const image = cropperContainer.querySelector('img');
                            const cropper = new Cropper(image, {
                                aspectRatio: 1,
                                viewMode: 1,
                                crop: function(event) {
                                    const croppedDataInput = imageItem.querySelector('.cropped-data');
                                    croppedDataInput.value = JSON.stringify(cropper.getData());
                                }
                            });
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            document.querySelectorAll('.image-input').forEach(initializeCropper);

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                // Here you would typically send the form data to your server
                console.log('Form submitted');
                // You can access form data using FormData API
                const formData = new FormData(form);
                for (let [key, value] of formData.entries()) {
                    console.log(key, value);
                }
            });
        });
    </script>
</body>
</html>







<!--Products app-->
<!--admin.py-->

<!--apps.py-->





<!--forms.py-->



<!--models.py-->



<!--urls.py-->


<!--views.py-->

<!---->







<!--profile.html - Original-->
{% extends 'base.html' %}

{% block title %}WordBloom{% endblock %}

{% block page_styles %}
<style>
    /* Main content styles */
    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }
    .profile-header {
        text-align: center;
        margin-bottom: 2rem;
    }
    .profile-title {
        font-size: 2.5rem;
        color: #2b5f5f;
        margin-bottom: 0.5rem;
    }
    .profile-description {
        font-size: 1.1rem;
        color: #666;
        max-width: 800px;
        margin: 0 auto;
    }
    .profile-content {
        display: flex;
        gap: 2rem;
        margin-top: 2rem;
    }

    .profile-sidebar {
        flex: 1;
        background-color: white;
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .profile-main {
        flex: 3;
        background-color: white;
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    /* .profile-image {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
        margin: 0 auto 1rem;
        display: block;
    } */
    /* .profile-name {
        font-size: 1.5rem;
        font-weight: 600;
        text-align: center;
        margin-bottom: 1rem;
    } */
    /* .profile-menu {
        list-style: none;
    }
    .profile-menu li {
        margin-bottom: 0.5rem;
    }
    .profile-menu a {
        display: block;
        padding: 0.5rem;
        color: #2b5f5f;
        border-radius: 4px;
        transition: background-color 0.3s;
    }
    .profile-menu a:hover, .profile-menu a.active {
        background-color: #e6f0f0;
    } */

    .profile-sidebar {
        flex: 1;
        max-width: 300px;
        background-color: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .user-profile-section {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: white;
        border: 1px solid #e1e7ef;
        border-radius: 12px;
        margin-bottom: 1.5rem;
    }

    .user-profile-section img {
        width: 48px;
        height: 48px;
        border-radius: 50%;
    }

    .user-profile-section .user-info {
        display: flex;
        flex-direction: column;
    }

    .user-profile-section .greeting {
        font-size: 0.9rem;
        color: #64748b;
    }

    .user-profile-section .user-name {
        font-size: 1.1rem;
        font-weight: 600;
        color: #0f172a;
    }

    .profile-menu {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .profile-menu a {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.875rem 1rem;
        color: #1e293b;
        text-decoration: none;
        border: 1px solid #e1e7ef;
        border-radius: 12px;
        transition: all 0.2s ease;
    }

    .profile-menu a:hover {
        background-color: #f8fafc;
    }

    .profile-menu a.active {
        background-color: #e0f2fe;
        border-color: #bae6fd;
    }

    .profile-menu i {
        font-size: 1.25rem;
        color: #0369a1;
    }

    /* .logout-btn {
        width: 100%;
        margin-top: 1rem;
        padding: 0.875rem;
        background-color: #fee2e2;
        color: #ef4444;
        border: 1px solid #fecaca;
        border-radius: 12px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .logout-btn:hover {
        background-color: #fecaca;
    } */
    .logout-btn {
        display:flex;
        align-items: center;
        gap:0.75rem;
        width: 100%;
        margin-top: 1rem;
        padding: 0.875rem;
        background-color: #fee2e2;
        color: #ef4444;
        border: 1px solid #fecaca;
        border-radius: 12px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .logout-btn:hover {
        background-color: #fecaca;
    }

    .section-title {
        font-size: 1.5rem;
        color: #2b5f5f;
        margin-bottom: 1rem;
    }
    .form-group {
        margin-bottom: 1rem;
    }
    .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
    }
    .form-input {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    .save-button {
        background-color: #2b5f5f;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    .save-button:hover {
        background-color: #234c4c;
    }
    .order-list {
        list-style: none;
    }
    .order-item {
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 1rem;
        margin-bottom: 1rem;
    }
    .order-number {
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    .order-date, .order-status, .order-total {
        font-size: 0.9rem;
        color: #666;
    }
    /* Responsive design */
    @media (max-width: 768px) {        
        .profile-content {
            flex-direction: column;
        }        
    }
</style>
{% endblock %}

{% block content %}
<main>
    <div class="container">
        <div class="profile-header">
            <h1 class="profile-title">My Profile</h1>
            <p class="profile-description">Manage your account settings and view your order history.</p>
        </div>

        <div class="profile-content">
            {% include 'includes/_profile_menu.html' with active_tab='personal-info' %}

            <div class="profile-main">
                <section id="personal-info">
                    <h2 class="section-title">Personal Information</h2>
                    <form>
                        <div class="form-group">
                            <label for="name" class="form-label">Full Name</label>
                            <input type="text" id="name" name="name" class="form-input" value="{{ request.user.first_name }} {{ request.user.last_name }}" disabled>
                        </div>
                        <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" id="email" name="email" class="form-input" value="{{ request.user.email }}" disabled>
                        </div>
                        <div class="form-group">
                            <label for="phone" class="form-label">Phone</label>
                            <input type="tel" id="phone" name="phone" class="form-input" value="{{ request.user.phone_number }}" disabled>
                        </div>
                        <div class="form-group">
                            <label for="address" class="form-label">Address</label>
                            <textarea id="address" name="address" class="form-input" rows="3" disabled></textarea>
                        </div>
                        <button type="submit" class="save-button">Edit Profile</button>
                    </form>
                </section>

                <section id="order-history" style="display: none;">
                    <h2 class="section-title">Order History</h2>
                    <ul class="order-list">
                        <li class="order-item">
                            <p class="order-number">Order #12345</p>
                            <p class="order-date">Date: May 15, 2024</p>
                            <p class="order-status">Status: Delivered</p>
                            <p class="order-total">Total: $59.99</p>
                        </li>
                        <li class="order-item">
                            <p class="order-number">Order #12346</p>
                            <p class="order-date">Date: June 2, 2024</p>
                            <p class="order-status">Status: Processing</p>
                            <p class="order-total">Total: $34.99</p>
                        </li>
                        <li class="order-item">
                            <p class="order-number">Order #12347</p>
                            <p class="order-date">Date: June 10, 2024</p>
                            <p class="order-status">Status: Shipped</p>
                            <p class="order-total">Total: $89.99</p>
                        </li>
                    </ul>
                </section>

                <section id="account-settings" style="display: none;">
                    <h2 class="section-title">Account Settings</h2>
                    <form>
                        <div class="form-group">
                            <label for="current-password" class="form-label">Current Password</label>
                            <input type="password" id="current-password" name="current-password" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="new-password" class="form-label">New Password</label>
                            <input type="password" id="new-password" name="new-password" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="confirm-password" class="form-label">Confirm New Password</label>
                            <input type="password" id="confirm-password" name="confirm-password" class="form-input">
                        </div>
                        <button type="submit" class="save-button">Change Password</button>
                    </form>
                </section>

                <section id="wishlist" style="display: none;">
                    <h2 class="section-title">My Wishlist</h2>
                    <p>Your wishlist is currently empty.</p>
                </section>

                <section id="reviews" style="display: none;">
                    <h2 class="section-title">My Reviews</h2>
                    <p>You haven't written any reviews yet.</p>
                </section>
            </div>
        </div>
    </div>
</main>
<script>
    // Simple JavaScript to handle tab switching
    document.addEventListener('DOMContentLoaded', function() {
        const menuItems = document.querySelectorAll('.profile-menu a');
        const sections = document.querySelectorAll('.profile-main > section');

        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);

                menuItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                sections.forEach(section => {
                    if (section.id === targetId) {
                        section.style.display = 'block';
                    } else {
                        section.style.display = 'none';
                    }
                });
            });
        });
    });
</script>
{% endblock %}







<!--admin_product_list.html - 10/012025 -->
{% extends 'admin_base.html' %}

{% block title %}Wordbloom : Admin Dashboard{% endblock %}
{% block extra_css %}
<style>
    :root {
        --primary-color: #2b5f5f;
        --secondary-color: #dc2626;
        --success-color: #059669;
        --warning-color: #d97706;
        --danger-color: #dc2626;
        --info-color: #3b82f6;
        --text-color: #333;
        --light-gray: #f3f4f6;
        --medium-gray: #9ca3af;
        --dark-gray: #4b5563;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', sans-serif;
        line-height: 1.5;
        color: var(--text-color);
        background-color: var(--light-gray);
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 1rem;
    }

    .admin-content {
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        margin-top: 2rem;
    }

    .admin-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }

    .search-bar {
        display: flex;
        gap: 0.5rem;
    }

    .search-bar input {
        padding: 0.5rem;
        border: 1px solid var(--medium-gray);
        border-radius: 4px;
        font-size: 1rem;
    }

    .btn {
        display: inline-block;
        text-decoration: none;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        font-weight: bold;
        text-align: center;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .btn-primary {
        background-color: var(--primary-color);
        color: white;
    }

    .btn-primary:hover {
        background-color: #1e4545;
    }

    .btn-secondary {
        background-color: var(--light-gray);
        color: var(--text-color);
    }

    .btn-secondary:hover {
        background-color: #e5e7eb;
    }

    .btn-edit {
        background-color: var(--info-color);
        color: white;
    }

    .btn-edit:hover {
        background-color: #2563eb;
    }

    .btn-view {
        background-color: var(--success-color);
        color: white;
    }

    .btn-view:hover {
        background-color: #047857;
    }

    .btn-delete {
        background-color: var(--danger-color);
        color: white;
    }

    .btn-delete:hover {
        background-color: #b91c1c;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
    }

    th, td {
        padding: 0.75rem;
        text-align: center;
        border-bottom: 1px solid var(--light-gray);
    }

    th {
        background-color: var(--light-gray);
        font-weight: 600;
    }

    .status-active {
        color: var(--success-color);
    }

    .status-inactive {
        color: var(--danger-color);
    }

    .action-buttons {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
    }

    .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        margin-top: 2rem;
        padding: 1rem;
    }

    .pagination a {
        padding: 0.5rem 1rem;
        border: 1px solid var(--primary-color);
        border-radius: 4px;
        color: var(--primary-color);
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .pagination a:hover {
        background-color: var(--primary-color);
        color: white;
    }

    .pagination .current {
        padding: 0.5rem 1rem;
        background-color: var(--primary-color);
        color: white;
        border-radius: 4px;
    }

    .pagination .disabled {
        padding: 0.5rem 1rem;
        border: 1px solid var(--medium-gray);
        color: var(--medium-gray);
        border-radius: 4px;
        pointer-events: none;
    }

    .deactivated {
        opacity: 0.5;
        pointer-events: none;
    }

    .deactivated .btn-restore {
        opacity: 1;
        pointer-events: auto;
    }

    .btn-restore {
        background-color: var(--success-color);
        color: white;
    }

    .btn-restore:hover {
        background-color: #047857;
    }

    @media (max-width: 768px) {
        .admin-controls {
            flex-direction: column;
            gap: 1rem;
        }

        .search-bar {
            width: 100%;
        }

        .search-bar input {
            flex-grow: 1;
        }

        table {
            font-size: 0.9rem;
        }

        .action-buttons {
            flex-wrap: wrap;
        }

        .action-buttons .btn {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="admin-content">
        <h2>Product List</h2>
        <div class="admin-controls">
            {% comment %} <div class="search-bar">
                <input type="text" placeholder="Search products...">
                <button class="btn btn-primary"><i class="ri-search-line"></i> Search</button>
            </div> {% endcomment %}
            <div class="search-bar">
                <form method="get" action="">
                    <input type="text" name="search" placeholder="Search products..." value="{{ search_query }}">
                    <button class="btn btn-primary"><i class="ri-search-line"></i> Search</button>
                </form>
            </div>           
            <a href="{% url 'products:admin_product_add' %}" class="btn btn-primary"><i class="ri-add-line"></i> Add New Product</a>
        </div>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th style="text-align:left">Product Name</th>
                    <th>Category</th>
                    <th>Author</th>
                    <th>Price</th>
                    <th>Stock</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% comment %} <tr>
                    <td>1</td>
                    <td style="text-align:left">Ratan Tata: A Life</td>
                    <td>Biography</td>
                    <td>Thomas Mathew</td>
                    <td>â¹1199</td>
                    <td>50</td>
                    <td><span class="status-active">Active</span></td>
                    <td>
                        <div class="action-buttons">
                            <a href="{% url 'products:edit_product' %}" class="btn btn-edit"> Edit</a>
                            <a href="{% url 'products:view_product' %}" class="btn btn-view"> View</a>
                            <a href="#" class="btn btn-delete"> Delete</a>
                        </div>
                    </td>
                </tr> {% endcomment %}
                {% for product in products %}
                <tr>
                    <td>{{ product.product_id }}</td>
                    <td style="text-align:left">{{ product.product_name}}</td>
                    <td>{{product.category.name}}</td>
                    <td>{{product.author}}</td>
                    <td>â¹{{ product.price }}</td>
                    <td>{{ product.stock }}</td>
                    <td><span class="status-active">{{product.is_active}}</span></td>
                    {% comment %} <td>
                        <div class="action-buttons">
                            <a href="{% url 'products:admin_product_view' product.product_id %}" class="btn btn-view">
                                <i class="ri-eye-line"></i>View
                            </a>
                            <a href="{% url 'products:admin_product_edit' product.product_id %}" class="btn btn-edit">
                                <i class="ri-edit-line"></i>Edit
                            </a>
                            <a href="{% url 'products:admin_product_delete' product.product_id %}" class="btn btn-delete" onclick="return confirm('Are you sure you want to delete this product?')">
                                <i class="ri-delete-bin-line"></i>Delete
                            </a>                            
                        </div>
                    </td> {% endcomment %}
                    <td>
                        <div class="action-buttons">
                            <a href="{% url 'products:admin_product_view' product.product_id %}" class="btn btn-view">
                                <i class="ri-eye-line"></i>View
                            </a>
                            <a href="{% url 'products:admin_product_edit' product.product_id %}" class="btn btn-edit">
                                <i class="ri-edit-line"></i>Edit
                            </a>
                            <a href="{% url 'products:admin_product_delete' product.product_id %}" class="btn btn-delete" onclick="return confirm('Are you sure you want to delete this product?')">
                                <i class="ri-delete-bin-line"></i>Delete
                            </a>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5">No products found.</td>
                </tr>
                {% endfor %}
                
            </tbody>
        </table>
        {% comment %} <div class="pagination">
            <button>Previous</button>
            <button class="active">1</button>
            <button>2</button>
            <button>3</button>
            <button>Next</button>
        </div> {% endcomment %}

        {% if products.paginator.num_pages > 1 %}
        <div class="pagination">
            {% if products.has_previous %}
                <a href="?page=1{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}" class="first">
                    <i class="ri-arrow-left-double-line"></i> First
                </a>
                <a href="?page={{ products.previous_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">
                    <i class="ri-arrow-left-line"></i> Previous
                </a>
            {% else %}
                <span class="disabled"><i class="ri-arrow-left-double-line"></i> First</span>
                <span class="disabled"><i class="ri-arrow-left-line"></i> Previous</span>
            {% endif %}

            {% for num in products.paginator.page_range %}
                {% if products.number == num %}
                    <span class="current">{{ num }}</span>
                {% elif num > products.number|add:'-3' and num < products.number|add:'3' %}
                    <a href="?page={{ num }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">{{ num }}</a>
                {% endif %}
            {% endfor %}

            {% if products.has_next %}
                <a href="?page={{ products.next_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">
                    Next <i class="ri-arrow-right-line"></i>
                </a>
                <a href="?page={{ products.paginator.num_pages }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}" class="last">
                    Last <i class="ri-arrow-right-double-line"></i>
                </a>
            {% else %}
                <span class="disabled">Next <i class="ri-arrow-right-line"></i></span>
                <span class="disabled">Last <i class="ri-arrow-right-double-line"></i></span>
            {% endif %}
        </div>
        {% endif %}        
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const table = document.querySelector('table');

        table.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn-delete')) {
                e.preventDefault();
                const row = e.target.closest('tr');
                deactivateRow(row);
            } else if (e.target.classList.contains('btn-restore')) {
                e.preventDefault();
                const row = e.target.closest('tr');
                activateRow(row);
            }
        });

        function deactivateRow(row) {
            row.classList.add('deactivated');
            const statusCell = row.querySelector('.status-active, .status-inactive');
            if (statusCell) {
                statusCell.textContent = 'Inactive';
                statusCell.className = 'status-inactive';
            }
            const deleteButton = row.querySelector('.btn-delete');
            deleteButton.textContent = 'Restore';
            deleteButton.classList.remove('btn-delete');
            deleteButton.classList.add('btn-restore');
            deleteButton.innerHTML = '<i class="ri-refresh-line"></i> Restore';
        }

        function activateRow(row) {
            row.classList.remove('deactivated');
            const statusCell = row.querySelector('.status-active, .status-inactive');
            if (statusCell) {
                statusCell.textContent = 'Active';
                statusCell.className = 'status-active';
            }
            const restoreButton = row.querySelector('.btn-restore');
            restoreButton.classList.remove('btn-restore');
            restoreButton.classList.add('btn-delete');
            restoreButton.innerHTML = '<i class="ri-delete-bin-line"></i> Delete';
        }
    });
</script>
{% endblock %}




<!--admin_product_edit.html - 10/01/2025-->
{% extends 'admin_base.html' %}
{% load static %}

{% block title %}Edit Product - {{ product.product_name }}{% endblock %}

{% block extra_css %}
<style>
    :root {
        --primary-color: #2b5f5f;
        --secondary-color: #dc2626;
        --success-color: #059669;
        --warning-color: #d97706;
        --danger-color: #dc2626;
        --text-color: #333;
        --light-gray: #f3f4f6;
        --medium-gray: #9ca3af;
        --dark-gray: #4b5563;
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Inter', sans-serif;
        line-height: 1.5;
        color: var(--text-color);
        background-color: var(--light-gray);
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 1rem;
    }
    
    .admin-content {
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        margin-top: 2rem;
    }
    
    h2 {
        color: var(--primary-color);
        margin-bottom: 1.5rem;
    }
    
    .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.25rem;
    }
    
    

    .form-group {
        display: flex;
        flex-direction: column;
    }

    .form-group label {
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .form-control {
        padding: 0.5rem;
        border: 1px solid var(--medium-gray);
        border-radius: 4px;
        font-size: 1rem;
    }

    .form-control:focus {
        outline: none;
        border-color: var(--primary-color);
    }
    
    .btn {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 4px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    
    .btn-primary {
        background-color: var(--primary-color);
        color: white;
    }
    
    .btn-primary:hover {
        background-color: #1e4545;
    }
    
    .btn-success {
        background-color: var(--success-color);
        color: white;
    }
    
    .btn-success:hover {
        background-color: #047857;
    }
    
    .btn-danger {
        background-color: var(--danger-color);
        color: white;
    }
    
    .btn-danger:hover {
        background-color: #b91c1c;
    }
    
    .image-container {
        margin-top: 2rem;
    }
    
    #current-images {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-bottom: 1rem;
    }
    
    .image-item {
        border: 1px solid var(--medium-gray);
        border-radius: 4px;
        padding: 0.5rem;
        text-align: center;
    }
    
    .image-item img {
        max-width: 100px;
        max-height: 100px;
        object-fit: cover;
    }
    
    .image-field {
        border: 1px solid var(--medium-gray);
        border-radius: 4px;
        padding: 1rem;
        margin-bottom: 1rem;
    }
    
    .error {
        color: var(--danger-color);
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }
    
    @media (max-width: 768px) {
        .form-grid {
            grid-template-columns: 1fr;
        }
    }    
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="admin-content">
        <h2>Edit Product: {{ product.product_name }}</h2>
        
        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <form method="POST" enctype="multipart/form-data" id="edit-product-form">
            {% csrf_token %}
            <div class="form-grid">
                <div class="form-group">
                    <label for="product_name">Product Name*</label>
                    {{ form.product_name }}
                    {% if form.product_name.errors %}
                    <div class="error">{{ form.product_name.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="category">Category*</label>
                    {{ form.category }}
                    {% if form.category.errors %}
                    <div class="error">{{ form.category.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="author">Author*</label>
                    {{ form.author }}
                    {% if form.author.errors %}
                    <div class="error">{{ form.author.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="format">Format*</label>
                    {{ form.format }}
                    {% if form.format.errors %}
                    <div class="error">{{ form.format.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="isbn">ISBN*</label>
                    {{ form.isbn }}
                    {% if form.isbn.errors %}
                    <div class="error">{{ form.isbn.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="price">Price*</label>
                    {{ form.price }}
                    {% if form.price.errors %}
                    <div class="error">{{ form.price.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="discounted_price">Discounted Price</label>
                    {{ form.discounted_price }}
                    {% if form.discounted_price.errors %}
                    <div class="error">{{ form.discounted_price.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="stock">Stock*</label>
                    {{ form.stock }}
                    {% if form.stock.errors %}
                    <div class="error">{{ form.stock.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="publication_date">Publication Date*</label>
                    {{ form.publication_date }}
                    {% if form.publication_date.errors %}
                    <div class="error">{{ form.publication_date.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="language">Language*</label>
                    {{ form.language }}
                    {% if form.language.errors %}
                    <div class="error">{{ form.language.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="page_count">Page Count*</label>
                    {{ form.page_count }}
                    {% if form.page_count.errors %}
                    <div class="error">{{ form.page_count.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="form-group full-width">
                <label for="product_description">Product Description*</label>
                {{ form.product_description }}
                {% if form.product_description.errors %}
                <div class="error">{{ form.product_description.errors }}</div>
                {% endif %}
            </div>

            <div class="image-container">
                <h4>Current Images</h4>
                <div id="current-images">
                    {% for image in product.images.all %}
                    <div class="image-item">
                        <img src="{{ image.image.url }}" alt="Product Image">
                        <label>
                            <input type="checkbox" name="delete_image" value="{{ image.image_id }}">
                            Delete
                        </label>
                    </div>
                    {% endfor %}
                </div>
                <h4>Add New Images</h4>
                <div id="image-list">
                    <!-- New images will be added here dynamically -->
                </div>
                <button type="button" id="add-image-btn" class="btn btn-success">Add Image</button>
            </div>

            <div class="form-group">
                <label>Status</label>
                {{ form.is_active }}
            </div>
            <button type="submit" class="btn btn-primary">Update Product</button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('edit-product-form');
        const imageList = document.getElementById('image-list');
        const addImageBtn = document.getElementById('add-image-btn');
        let imageCount = 0;

        function addImageField() {
            const imageField = document.createElement('div');
            imageField.className = 'image-field';
            imageField.innerHTML = `
                <div class="form-group">
                    <label for="image_${imageCount}">Image</label>
                    <input type="file" id="image_${imageCount}" name="image" class="form-control image-input" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label for="is_primary_${imageCount}">Primary Image</label>
                    <input type="checkbox" id="is_primary_${imageCount}" name="is_primary_${imageCount}">
                </div>
                <div class="form-group">
                    <label for="display_order_${imageCount}">Display Order</label>
                    <input type="number" id="display_order_${imageCount}" name="display_order_${imageCount}" class="form-control" value="0" min="0">
                </div>
                <button type="button" class="btn btn-danger remove-image">Remove</button>
            `;
            imageList.appendChild(imageField);
            imageCount++;
        }

        addImageBtn.addEventListener('click', addImageField);

        imageList.addEventListener('click', function(e) {
            if (e.target.classList.contains('remove-image')) {
                e.target.closest('.image-field').remove();
            }
        });

        form.addEventListener('submit', function(e) {
            let isValid = true;
            const required = form.querySelectorAll('[required]');
            
            required.forEach(field => {
                if (!field.value) {
                    isValid = false;
                    field.classList.add('error');
                } else {
                    field.classList.remove('error');
                }
            });
            
            if (!isValid) {
                e.preventDefault();
                alert('Please fill in all required fields');
            }
        });
    });
</script>
{% endblock %}







<!--Product_details.html - 13/01/2025-->


{% extends 'base.html' %}

{% block title %}WordBloom : Ratan Tata: A Life{% endblock %}

{% block page_styles %}
<style>
    /* Product detail styles */
    :root {
        --primary-color: #2b5f5f;
        --secondary-color: #dc2626;
        --accent-color: #d97706;
        --text-color: #333;
        --light-gray: #f3f4f6;
        --medium-gray: #9ca3af;
        --dark-gray: #4b5563;
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }

    .product-container {
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        padding-bottom: 0px;
        padding-right: 2rem;
    }

    .product-grid {
        display: grid;
        gap: 2rem;
        grid-template-columns: 1fr 1fr;
    }

    .product-images {
        flex: 1;
        display: flex;
        gap: 1rem;
    }

    .thumbnail-grid {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        justify-content: center;
        margin-left: 60px;
    }

    .thumbnail {
        width: 80px;
        height: 80px;
        border: 2px solid #f3f4f6;
        border-radius: 4px;
        overflow: hidden;
        cursor: pointer;
    }

    .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .main-image-container {
        display: flex;
        gap: 2rem;
        flex: 1;
        position: relative;
    }

    .main-image {
        width: 400px;
        height: 456px;
        cursor: crosshair;
        position: relative;
        display: flex;
        justify-content: center;
    }

    .main-image img {
        width: 75%;
        height: 100%;
        object-fit: fill;
        display: block;
    }

    .zoom-view {
        width: 600px;
        height: 456px;
        border: 1px solid #e5e7eb;
        display: none;
        overflow: hidden;
        background-repeat: no-repeat;
        background-position: center;
        position: absolute;
        top: 0;             
        left: 420px;
        z-index: 1000;
        background-color: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Add this for better visibility */
    }

    .product-info {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        padding-left: 2rem;
        width: 90%;
    }

    .product-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary-color);
    }

    .rating-section {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .stars {
        color: var(--accent-color);
        font-size: 1.25rem;
    }

    .review-count {
        color: var(--medium-gray);
    }

    .price-section {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .current-price {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary-color);
    }

    .original-price {
        font-size: 1.5rem;
        color: var(--medium-gray);
        text-decoration: line-through;
    }

    .discount-badge {
        background-color: #059669;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 1rem;
        font-size: 0.875rem;
        font-weight: 600;
    }

    .format-selection {
        display: flex;
        gap: 2rem;
        width: 300px;
    }

    .format-option {
        display: none;
    }

    .format-option + label {
        flex: 1;
        padding: 0.5rem 0.5rem;
        border: 2px solid var(--primary-color);
        border-radius: 0.5rem;
        color: var(--primary-color);
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
        font-weight: 600;
    }

    .format-option:checked + label {
        background-color: #f1bbf88c;
        color: #2b5f5f;
    }

    .stock-status {
        color: #059669;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .quantity-selector {
        margin-top: 0.1rem;
    }

    .quantity-input {
        display: flex;
        align-items: center;
        border: 2px solid var(--primary-color);
        border-radius: 0.5rem;
        overflow: hidden;
        width: 100px;
        height: 28px;
    }

    .quantity-btn {
        background-color: var(--primary-color);
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1.2rem;
        transition: background-color 0.3s ease;
    }

    .quantity-btn:hover {
        background-color: #1e4040;
    }

    .quantity-value {
        width: 45px;
        text-align: center;
        border: none;
        font-size: 1rem;
        padding: 0.5rem;
        appearance: textfield;
        -webkit-appearance: textfield;
        -moz-appearance: textfield;
    }

    .quantity-value::-webkit-inner-spin-button,
    .quantity-value::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    .delivery-option select {
        width: 50%;
        height: 100%;
        padding: 0.75rem;
        border: 2px solid var(--primary-color);
        border-radius: 0.5rem;
        font-size: 1rem;
        color: var(--primary-color);
    }

    .action-buttons {
        display: flex;
        gap: 1rem;
    }

    .btn {
        flex: 1;
        padding: 1rem;
        border: none;
        border-radius: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        font-size: 1rem;
    }

    .btn-primary {
        background-color: #8a98e8;
        color: white;
    }

    .btn-secondary {
        background-color: #3fb4b2;
        color: white;
    }

    .btn-accent {
        background-color: #8f818a;
        color: white;
    }

    .btn:hover {
        background-color: #2b5f5f;
        opacity: 0.9;
    }

    .tabs {
        margin-top: 2rem;
    }

    .tab-buttons {
        display: flex;
        gap: 1.5rem;
        align-items: center;
    }

    .tab-button {
        padding: 12px 24px;
        background-color: #4a90e2;
        background: none;
        border: 2px solid #4a90e2;
        border-radius: 25px;
        color: #4a90e2;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .tab-button.active {
        background-color: #4a90e2;
        color: white;
    }

    .tab-content {
        display: none;
        padding: 2rem 0;
    }

    .tab-content.active {
        display: block;
    }

    .review-form {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 2px solid var(--light-gray);
    }

    .form-group {
        margin-bottom: 1rem;
    }

    .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: var(--primary-color);
    }

    .form-input,
    .form-textarea {
        width: 100%;
        padding: 0.75rem;
        border: 2px solid var(--primary-color);
        border-radius: 0.5rem;
        font-size: 1rem;
    }

    .form-textarea {
        min-height: 150px;
        resize: vertical;
    }

    /* Responsive design */
    @media (max-width: 1024px) {
        .product-grid {
            grid-template-columns: 1fr;
        }

        .product-images {
            border-right: none;
            border-bottom: 1px solid var(--light-gray);
            padding-right: 0;
            padding-bottom: 2rem;
        }

        .product-info {
            padding-left: 0;
            padding-top: 1.5rem;
        }
    }

    @media (max-width: 768px) {
        .action-buttons {
            flex-direction: column;
        }
        .product-images {
            flex-direction: column-reverse;
        }
        .thumbnail-grid {
            flex-direction: row;
            overflow-x: auto;
        }
        .thumbnail {
            flex-shrink: 0;
        }
        .main-image-container {
            flex-direction: column;
        }
        .zoom-view {
            width: 100%;
            margin-top: 1rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<main>
    <div class="container">
        <div class="product-container">
            <div class="product-grid">
                <div class="product-images">                     
                    <div class="thumbnail-grid">
                        {% for image in product.images.all %}
                        <div class="thumbnail">
                            <img src="{{ image.image.url }}" alt="{{ product.product_name }} - Image {{ forloop.counter }}">
                        </div>
                        {% endfor %}
                    </div>
                    <div class="main-image-container">
                        <div class="main-image">
                            {% if product.images.exists %}
                            <img src="{{ product.images.first.image.url }}" alt="{{ product.product_name }}" id="mainImage">
                            {% else %}
                            <img src="/placeholder.svg?height=600&width=400" alt="{{ product.product_name }}" id="mainImage">
                            {% endif %}
                        </div>
                        <div class="zoom-view" id="zoomView"></div>
                    </div>
                </div>
                <div class="product-info">
                    <h1 class="product-title">{{ product.product_name }}</h1>
                     
                    <div class="rating-section">
                        <div class="stars">âââââ</div>
                        <span class="review-count">(128 reviews)</span>
                    </div>

                    {% comment %} <div class="price-section">
                        <span class="current-price" id="currentPrice">â¹{{ product.discounted_price|default:product.price }}</span>
                        {% if product.discounted_price %}
                        <span class="original-price" id="originalPrice">â¹{{ product.price }}</span>
                        <span class="discount-badge">{{ product.discount_percentage|floatformat:0 }}% OFF</span>
                        {% endif %}
                    </div> {% endcomment %}



                    <div class="price-section">
                        {% with first_variant=product.active_variants|first %}
                            {% if first_variant %}
                                <span class="current-price" id="currentPrice">â¹{{ first_variant.discounted_price|default:first_variant.price }}</span>
                                {% if first_variant.discounted_price %}
                                    <span class="original-price" id="originalPrice">â¹{{ first_variant.price }}</span>
                                    {% comment %} You can add discount percentage calculation if needed {% endcomment %}
                                    {% with discount=first_variant.get_discount_percentage %}
                                        <span class="discount-badge">{{ discount|floatformat:0 }}% OFF</span>
                                    {% endwith %}
                                {% endif %}
                            {% else %}
                                <span class="error">No variant available</span>
                            {% endif %}
                        {% endwith %}
                    </div>

                     
                    <p>Inclusive of all taxes</p>

                    <div class="format-selection">
                        <input type="radio" id="hardcover" name="format" class="format-option" {% if product.format == 'Hardcover' %}checked{% endif %}>
                        <label for="hardcover">Hardcover</label>
                         
                        <input type="radio" id="paperback" name="format" class="format-option" {% if product.format == 'Paperback' %}checked{% endif %}>
                        <label for="paperback">Paperback</label>
                    </div>

                    <div class="stock-status">
                        <i class="fas fa-check-circle"></i>
                        <span>{% if product.stock > 0 %}In Stock{% else %}Out of Stock{% endif %}</span>
                    </div>

                    <div class="quantity-selector">
                        <label for="quantity" class="form-label">Quantity</label>
                        <div class="quantity-input">
                            <button type="button" class="quantity-btn quantity-decrease">-</button>
                            <input type="number" id="quantity" name="quantity" min="1" max="{{ product.stock }}" value="1" class="quantity-value">
                            <button type="button" class="quantity-btn quantity-increase">+</button>
                        </div>
                    </div>

                    <div class="delivery-option">
                        <select>
                            <option>Delivery by Tomorrow</option>
                            <option>Delivery in 2-3 days</option>
                            <option>Delivery in 4-5 days</option>
                        </select>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary">
                            <i class="fas fa-shopping-cart"></i>
                            Buy Now
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-cart-plus"></i>
                            Add to Cart
                        </button>
                        <button class="btn btn-accent">
                            <i class="fas fa-heart"></i>
                            Add to Wishlist
                        </button>
                    </div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab-buttons"> 
                    <button class="tab-button active" data-tab="description">Description</button> 
                    <button class="tab-button" data-tab="details">Product Details</button> 
                    <button class="tab-button" data-tab="reviews">Reviews</button> 
                </div> 

                <div class="tab-content active" id="description"> 
                    <h3>About the Book</h3> 
                    <p>{{product.product_description}}</p> 
                </div> 

                <div class="tab-content" id="details"> 
                    <div class="product-details"> 
                        <p><strong>Author:</strong> {{product.author}}</p>
                        <p><strong>ISBN:</strong> {{product.isbn}}</p> 
                        <p><strong>Pages:</strong> {{product.page_count}}</p> 
                        <p><strong>Language:</strong> {{product.language}}</p> 
                        <p><strong>Publication Date:</strong> {{product.publication_date}}</p> 
                    </div> 
                </div> 

                <div class="tab-content" id="reviews"> 
                    <div class="review-summary"> 
                        <h3>Customer Reviews</h3> 
                        <div class="rating-section"> 
                            <div class="stars">âââââ</div> 
                            <span>4.5 out of 5</span> 
                        </div> 
                        <p>Based on 128 reviews</p> 
                    </div> 

                    <div class="review-list"> 
                        {% for review in product.reviews.all %}
                        <div class="review-item"> 
                            {% comment %} <div class="stars">{{ review.rating|stars }}</div>  {% endcomment %}
                            <p><strong>{{ review.user.name }}</strong></p> 
                            <p>{{ review.content }}</p> 
                            <small>{{ review.created_at|date }}</small> 
                        </div> 
                        {% endfor %}
                    </div> 

                    <div class="review-form"> 
                        <h3>Write a Review</h3> 
                        {% comment %} <form action="{% url 'add_review' product.id %}" method="POST">  {% endcomment %}
                            {% csrf_token %}
                            <div class="form-group"> 
                                <label class="form-label">Rating</label> 
                                <select name="rating" class="form-input" required> 
                                    <option value="5">âââââ (5/5)</option> 
                                    <option value="4">âââââ (4/5)</option> 
                                    <option value="3">âââââ (3/5)</option> 
                                    <option value="2">âââââ (2/5)</option> 
                                    <option value="1">âââââ (1/5)</option> 
                                </select> 
                            </div> 
                            <div class="form-group"> 
                                <label class="form-label">Your Review</label> 
                                <textarea name="content" class="form-textarea" required></textarea> 
                            </div> 
                            <button type="submit" class="btn btn-primary">Submit Review</button> 
                        </form>
                    </div> 
                </div>
            </div>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Format selection with price updates
        const formatOptions = document.querySelectorAll('.format-option');
        const currentPrice = document.getElementById('currentPrice');
        const originalPrice = document.getElementById('originalPrice');

        formatOptions.forEach(option => {
            option.addEventListener('change', function() {
                if (this.id === 'hardcover') {
                    currentPrice.textContent = 'â¹1,199';
                    originalPrice.textContent = 'â¹1,499';
                } else {
                    currentPrice.textContent = 'â¹999';
                    originalPrice.textContent = 'â¹1,299';
                }
            });
        });

        // Tab switching
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');

                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                button.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Thumbnail image click handler and zoom functionality
        const thumbnails = document.querySelectorAll('.thumbnail');
        const mainImage = document.getElementById('mainImage');
        const zoomView = document.getElementById('zoomView');

        thumbnails.forEach(thumbnail => {
            thumbnail.addEventListener('click', function() {
                const newSrc = this.querySelector('img').src;
                mainImage.src = newSrc;
                zoomView.style.backgroundImage = `url(${newSrc})`;
            });
        });

        // Zoom functionality
        mainImage.addEventListener('mousemove', (e) => {
            const rect = mainImage.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Show zoom view
            zoomView.style.display = 'block';
            
            // Calculate zoom ratios
            const xRatio = (x / rect.width) * 100;
            const yRatio = (y / rect.height) * 100;
            
            // Set background image and position for zoom view
            zoomView.style.backgroundImage = `url(${mainImage.src})`;
            zoomView.style.backgroundSize = '200%';
            zoomView.style.backgroundPosition = `${xRatio}% ${yRatio}%`;
        });

        mainImage.addEventListener('mouseleave', () => {
            zoomView.style.display = 'none';
        });

        // Quantity selector functionality
        const quantityDecrease = document.querySelector('.quantity-decrease');
        const quantityIncrease = document.querySelector('.quantity-increase');
        const quantityInput = document.getElementById('quantity');

        quantityDecrease.addEventListener('click', () => {
            if (quantityInput.value > 1) {
                quantityInput.value = parseInt(quantityInput.value) - 1;
            }
        });

        quantityIncrease.addEventListener('click', () => {
            if (quantityInput.value < 10) {
                quantityInput.value = parseInt(quantityInput.value) + 1;
            }
        });

        quantityInput.addEventListener('change', () => {
            // Ensure the value is between 1 and 10
            quantityInput.value = Math.max(1, Math.min(10, parseInt(quantityInput.value) || 1));
        });
    });
</script>
{% endblock %}








<!--admin_product_edit.html - 02.01.2025-->


{% extends "admin_base.html" %}
{% load static %}

{% block title %}Edit Product - {{ product.product_name }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
<style>
    :root {
        --primary-color: #2b5f5f;
        --secondary-color: #dc2626;
        --success-color: #059669;
        --warning-color: #d97706;
        --danger-color: #dc2626;
        --text-color: #333;
        --light-gray: #f3f4f6;
        --medium-gray: #9ca3af;
        --dark-gray: #4b5563;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', sans-serif;
        line-height: 1.6;
        color: var(--text-color);
        background-color: var(--light-gray);
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }    

    .admin-content {
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        margin-top: 2rem;
    }

    h2 {
        color: var(--primary-color);
        margin-bottom: 1.5rem;
    }

    .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
    }

    .form-group {
        display: flex;
        flex-direction: column;
    }

    .form-group label {
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid var(--medium-gray);
        border-radius: 4px;
        font-size: 1rem;
    }

    .full-width {
        grid-column: 1 / -1;
    }

    .btn {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 4px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .btn-primary, .btn-success {
        background-color: #4a5568;
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 0.25rem;
        font-size: 0.875rem;
        font-weight: 600;
        transition: background-color 0.2s;
    }

    .btn-primary:hover, .btn-success:hover {
        background-color: #2d3748;
    }

    .btn-danger {
        background-color: var(--danger-color);
        color: white;
    }

    .btn-danger:hover {
        background-color: #b91c1c;
    }

    .btn-warning {
        background-color: var(--warning-color);
        color: white;
    }

    .btn-warning:hover {
        background-color: #b45309;
    }

    .error {
        color: var(--danger-color);
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .variant-section {
        border: 1px solid var(--medium-gray);
        border-radius: 4px;
        padding: 1rem;
        margin-top: 2rem;
        margin-bottom: 2rem;
        background-color: rgb(255, 255, 255);
    }

    .image-container {
        margin-top: 2rem;
        padding: 1rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.25rem;
    }

    .image-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .image-item {
        background-color: var(--light-gray);
        border-radius: 4px;
        padding: 1rem;
    }

    .image-actions {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    .image-field {
        border: 1px solid var(--medium-gray);
        border-radius: 4px;
        padding: 1rem;
        margin-bottom: 1rem;
    }

    .cropper-container {
        max-width: 100%;
        height: 300px;
        margin-top: 1rem;
    }

    .preview {
        width: 100%;
        height: 150px;
        border: 2px dashed var(--medium-gray);
        margin-top: 1rem;
        overflow: hidden;
    }

    .image-preview {
        max-width: 200px;
        max-height: 200px;
        object-fit: cover;
        margin-top: 1rem;
    }

    .remove-image {
        margin-top: 0.5rem;
    }
    /* Add variant button */
    .add-variant-btn {
        padding: 0.75rem 1.5rem;
        background-color: var(--success-color);
        color: white;
        border-radius: 4px;
        font-weight: 600;
        margin-top: 1rem;
        transition: background-color 0.3s ease;
    }

    .add-variant-btn:hover {
        background-color: #047857;
    }

    /* Submit button */
    .update-product-btn {
        padding: 0.75rem 2rem;
        background-color: var(--primary-color);
        color: white;
        border-radius: 4px;
        font-weight: 600;
        margin-top: 2rem;
        transition: background-color 0.3s ease;
    }

    .update-product-btn:hover {
        background-color: #1e4545;
    }

    @media (max-width: 768px) {
        .form-grid {
            grid-template-columns: 1fr;
        }
        
        .image-list {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="admin-content">
        <h2>Edit Product: {{ product.product_name }}</h2>

        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <form method="POST" enctype="multipart/form-data" id="edit-product-form">
            {% csrf_token %}
            <input type="hidden" name="variant_count" id="variant-count" value="{{ variants_data|length }}">

            <!-- Product Information -->
            <div class="form-grid">
                {% for field in product_form %}
                <div class="form-group {% if field.name == 'product_description' %}full-width{% endif %}">
                    <label for="{{ field.id_for_label }}">{{ field.label }}{% if field.field.required %}*{% endif %}</label>
                    {{ field }}
                    {% if field.errors %}
                    <div class="error">{{ field.errors }}</div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>

            <!-- Variants Section -->
            <div id="variants-container">
                {% for variant_form, prefix in variants_data %}
                <div class="variant-section" data-prefix="{{ prefix }}">
                    <h3>Variant #{{ forloop.counter }}</h3>
                    <div class="form-grid">
                        {{ variant_form.id }}
                        {% for field in variant_form %}
                            {% if field.name != 'id' and field.name != 'DELETE' %}
                            <div class="form-group">
                                <label for="{{ field.id_for_label }}">{{ field.label }}{% if field.field.required %}*{% endif %}</label>
                                {{ field }}
                                {% if field.errors %}
                                <div class="error">{{ field.errors }}</div>
                                {% endif %}
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>

                    <!-- Variant Images -->
                    <div class="image-container">
                        <h4>Variant Images</h4>
                        <div class="image-list" id="{{ prefix }}-image-list">
                            {% for image in variant_form.instance.images.all %}
                            <div class="image-field">
                                <img src="{{ image.image.url }}" alt="Variant Image" class="image-preview">
                                
                                <div class="image-actions">
                                    <div class="form-group">
                                        <label>
                                            <input type="radio" name="{{ prefix }}-primary_image" 
                                                value="{{ image.image_id }}" 
                                                {% if image.is_primary %}checked{% endif %}>
                                            Primary
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label>Order</label>
                                        <input type="number" 
                                            name="{{ prefix }}-display_order_{{ image.image_id }}" 
                                            value="{{ image.display_order }}" 
                                            min="0"
                                            style="width: 60px;">
                                    </div>
                                    <button type="button" class="btn btn-primary btn-sm replace-image-btn" data-image-id="{{ image.image_id }}">
                                        Replace Image
                                    </button>
                                    <button type="button" class="btn btn-danger btn-sm remove-existing-image" 
                                        data-image-id="{{ image.image_id }}">
                                        Remove Image
                                    </button>
                                </div>
                                
                                <input type="file" class="replace-image-input" 
                                       name="{{ prefix }}-replace_image_{{ image.image_id }}"
                                       accept="image/*"
                                       style="display: none;">
                                <input type="hidden" name="{{ prefix }}-replace_cropped_data_{{ image.image_id }}" 
                                       class="cropped-data">
                                <input type="checkbox" name="{{ prefix }}-delete_images" 
                                    value="{{ image.image_id }}" 
                                    id="delete_{{ image.image_id }}" 
                                    style="display: none;">
                                
                                <div class="cropper-container" style="display: none;"></div>
                                <div class="preview" style="display: none;"></div>
                            </div>
                            {% endfor %}
                        </div>
                        <button type="button" class="btn btn-success add-image-btn" data-prefix="{{ prefix }}">
                            Add New Image
                        </button>
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="form-group" style="margin-top: 2rem;">
                <button type="button" id="add-variant-btn" class="add-variant-btn">Add Another Variant</button>
                <button type="submit" class="update-product-btn">Update Product</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('edit-product-form');
    const variantContainer = document.getElementById('variants-container');
    let variantCount = {{ variants_data|length }};

    // Handle existing image deletion
    document.querySelectorAll('.remove-existing-image').forEach(button => {
        button.addEventListener('click', function() {
            const imageId = this.dataset.imageId;
            const checkbox = document.querySelector(`#delete_${imageId}`);
            checkbox.checked = !checkbox.checked;
            this.closest('.image-field').style.opacity = checkbox.checked ? '0.5' : '1';
        });
    });

    // Add Variant
    document.getElementById('add-variant-btn').addEventListener('click', function() {
        variantCount++;
        const newVariant = document.querySelector('.variant-section').cloneNode(true);
        const prefix = `variant_new_${variantCount}`;
        
        // Update variant identifiers
        newVariant.dataset.prefix = prefix;
        newVariant.querySelector('h3').innerHTML = `Variant #${variantCount} 
            <button type="button" class="btn btn-danger variant-remove-btn">&times;</button>`;

        // Reset form fields
        newVariant.querySelectorAll('input, select, textarea').forEach(field => {
            if (field.name) {
                field.name = field.name.replace(/variant_\d+/, prefix);
                field.value = '';
                if (field.type === 'checkbox' || field.type === 'radio') {
                    field.checked = false;
                }
            }
        });

        // Clear existing images
        newVariant.querySelector('.image-list').innerHTML = '';

        // Add remove functionality
        newVariant.querySelector('.variant-remove-btn').addEventListener('click', function() {
            newVariant.remove();
            variantCount--;
            document.getElementById('variant-count').value = variantCount;
        });

        variantContainer.appendChild(newVariant);
        document.getElementById('variant-count').value = variantCount;
    });

    // Cropper initialization
    function initializeCropper(input, cropperContainer, previewContainer) {
        input.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(event) {
                cropperContainer.innerHTML = `
                    <img src="${event.target.result}" style="max-width: 100%;">
                `;

                const img = cropperContainer.querySelector('img');
                const cropper = new Cropper(img, {
                    aspectRatio: 1,
                    viewMode: 1,
                    preview: previewContainer,
                });

                // Store cropper instance
                input.cropper = cropper;
            };
            reader.readAsDataURL(file);
        });
    }

    // Handle new image uploads
    variantContainer.addEventListener('click', function(e) {
        if (e.target.classList.contains('add-image-btn')) {
            const prefix = e.target.dataset.prefix;
            const imageList = document.getElementById(`${prefix}-image-list`);
            
            const newImageField = document.createElement('div');
            newImageField.className = 'image-field';
            newImageField.innerHTML = `
                <div class="form-group">
                    <input type="file" class="new-image-input" accept="image/*" required>
                    <input type="hidden" name="${prefix}-cropped_data" class="cropped-data">
                </div>
                <div class="cropper-container"></div>
                <div class="preview"></div>
                <div class="image-actions">
                    <div class="form-group">
                        <label>
                            <input type="radio" name="${prefix}-primary_image" value="new">
                            Primary
                        </label>
                    </div>
                    <div class="form-group">
                        <label>Order</label>
                        <input type="number" name="${prefix}-display_order_new" 
                            value="0" min="0" style="width: 60px;">
                    </div>
                    <button type="button" class="btn btn-danger btn-sm remove-image">Remove Image</button>
                </div>
            `;

            imageList.appendChild(newImageField);
            initializeCropper(
                newImageField.querySelector('.new-image-input'),
                newImageField.querySelector('.cropper-container'),
                newImageField.querySelector('.preview')
            );
        }
    });

    // Remove new images
    variantContainer.addEventListener('click', function(e) {
        if (e.target.classList.contains('remove-image')) {
            e.target.closest('.image-field').remove();
        }
    });

    // Handle image replacement
    document.querySelectorAll('.replace-image-btn').forEach(button => {
        button.addEventListener('click', function() {
            const imageField = this.closest('.image-field');
            const input = imageField.querySelector('.replace-image-input');
            const cropperContainer = imageField.querySelector('.cropper-container');
            const previewContainer = imageField.querySelector('.preview');
            
            if (cropperContainer.style.display === 'none') {
                cropperContainer.style.display = 'block';
                previewContainer.style.display = 'block';
                input.click();
            } else {
                cropperContainer.style.display = 'none';
                previewContainer.style.display = 'none';
            }
        });
    });

    // Initialize croppers for replacement inputs
    document.querySelectorAll('.replace-image-input').forEach(input => {
        const imageField = input.closest('.image-field');
        const cropperContainer = imageField.querySelector('.cropper-container');
        const previewContainer = imageField.querySelector('.preview');
        initializeCropper(input, cropperContainer, previewContainer);
    });

    // Form submission handler
    form.addEventListener('submit', function(e) {
        // Handle cropped images (new and replacements)
        document.querySelectorAll('.new-image-input, .replace-image-input').forEach(input => {
            if (input.files.length > 0 && input.cropper) {
                const canvas = input.cropper.getCroppedCanvas();
                const dataURL = canvas.toDataURL('image/jpeg');
                input.closest('.image-field').querySelector('.cropped-data').value = dataURL;
            }
        });
    });
});
</script>
{% endblock %}




<!--Cart view - During review on 11.02.2025-->
{% extends 'base.html' %}
{% block title %}Your Cart | WordBloom{% endblock %}

{% block page_styles %}
<style>
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }
    .cart-item {
        display: flex;
        border-bottom: 1px solid #eee;
        padding: 1rem 0;
    }
    .item-image {
        width: 100px;
        margin-right: 1rem;
    }
    .item-image img {
        width: 100%;
        height: auto;
    }
    .item-details {
        flex-grow: 1;
    }
    .quantity-control {
        display: flex;
        align-items: center;
        margin: 1rem 0;
    }
    .quantity-btn {
        background-color: #2b5f5f;
        color: white;
        border: none;
        padding: 0.5rem;
        cursor: pointer;
    }
    .quantity-input {
        width: 50px;
        text-align: center;
        margin: 0 0.5rem;
    }
    .remove-item {
        background-color: #dc3545;
        color: white;
        border: none;
        padding: 0.5rem;
        cursor: pointer;
    }
    .cart-summary {
        background-color: #f8f9fa;
        padding: 1rem;
        border-radius: 4px;
    }
    .summary-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
    }
    .total {
        font-weight: bold;
        font-size: 1.2rem;
        margin-top: 1rem;
    }
    .btn-primary {
        background-color: #2b5f5f;
        color: white;
        border: none;
        padding: 0.5rem;
        cursor: pointer;
        width: 100%;
        margin-top: 1rem;
    }
    @media (max-width: 768px) {
        .row {
            flex-direction: column;
        }
        .col-md-8, .col-md-4 {
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1 class="text-center mb-4">Your Shopping Cart</h1>
    
    {% comment %} {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %} {% endcomment %}

    <div id="cart-content">
        {% if cart_items %}
        <div class="row">
            <div class="col-md-8">
                <div class="cart-items">
                    {% for item in cart_items %}
                    <div class="cart-item">
                        <div class="item-image">
                            <img src="{{ item.variant.get_primary_image.image.url }}" alt="{{ item.variant.product.product_name }}">
                        </div>
                        <div class="item-details">
                            <h3>{{ item.variant.product.product_name }}</h3>
                            <p>{{ item.variant.format }}</p>
                            <p>
                                Price: â¹
                                {% if item.variant.discounted_price %}
                                    {{ item.variant.discounted_price }}
                                {% else %}
                                    {{ item.variant.price }}
                                {% endif %}
                            </p>
                            
                            <form method="post">
                                {% csrf_token %}
                                <input type="hidden" name="item_id" value="{{ item.id }}">
                                {% comment %} <div class="quantity-control">
                                    <button type="submit" name="action" value="update" class="quantity-btn minus">-</button>
                                    <input type="number" name="quantity" class="quantity-input" 
                                           value="{{ item.quantity }}" min="1" max="5">
                                    <button type="submit" name="action" value="update" class="quantity-btn plus">+</button>
                                </div> {% endcomment %}

                                <div class="quantity-control">
                                    {% comment %} <button type="submit" name="action" value="update" class="quantity-btn minus">-</button> {% endcomment %}
                                    <input type="number" name="quantity" class="quantity-input" 
                                           value="{{ item.quantity }}" min="1" max="5">
                                    <button type="submit" name="action" value="update" class="quantity-btn plus">Update Quantity</button>
                                </div>
                                <p class="subtotal">
                                    Subtotal: â¹{{ item.sub_total }}
                                </p>
                                <button type="submit" name="action" value="remove" class="remove-item">Remove</button>
                            </form>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-md-4">
                <div class="cart-summary">
                    <h2>Order Summary</h2>
                    <div class="summary-item">
                        <span>Subtotal:</span>
                        <span>â¹{{ cart_total }}</span>
                    </div>
                    <div class="summary-item">
                        <span>Shipping:</span>
                        <span>Free</span>
                    </div>
                    <div class="summary-item total">
                        <span>Total:</span>
                        <span>â¹{{ cart_total }}</span>
                    </div>
                    <a href="{% url 'cart:checkout' %}" class="btn btn-primary btn-block">Proceed to Checkout</a>
                </div>
            </div>
        </div>
        {% else %}
        <p class="text-center">Your cart is empty. <a href="{% url 'accounts:shop' %}">Continue shopping</a></p>
        {% endif %}
    </div>
</div>
{% endblock %}


<!--APP : coupon-->


<!--__init__.py-->


<!--admin.py-->
from django.contrib import admin

# Register your models here.


<!--apps.py-->
from django.apps import AppConfig


class CouponConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'coupon'


<!--forms.py-->
from django import forms

class CouponApplyForm(forms.Form):
    code = forms.CharField()

<!--models.py-->
# from django.db import models
# from django.core.validators import MinValueValidator, MaxValueValidator

# # Create your models here.
# class Coupon(models.Model):
#     code = models.CharField(max_length=50, unique=True)
#     valid_from = models.DateTimeField()
#     valid_to = models.DateTimeField()
#     discount = models.IntegerField(validators=[MinValueValidator(0), MaxValueValidator(100)])
#     active = models.BooleanField()

#     def __str__(self):
#         return self.code

from django.db import models
from accounts.models import User
from orders.models import OrderMain
from django.utils import timezone

class Coupon(models.Model):
    coupon_name = models.CharField(max_length=100, null=False)
    minimum_amount = models.IntegerField(null=False)
    discount = models.IntegerField(null=False)
    maximum_amount = models.IntegerField(null=False, default=0)
    expiry_date = models.DateField(null=False)
    coupon_code = models.CharField(max_length=50, null=False, unique=True)
    status = models.BooleanField(default=True)

    def __str__(self):
        return self.coupon_code

class UserCoupon(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    coupon = models.ForeignKey(Coupon, on_delete=models.CASCADE, null=True)
    used = models.BooleanField(default=False)
    used_at = models.DateTimeField(null=True, blank=True)
    order = models.ForeignKey(OrderMain, on_delete=models.CASCADE, null=True)

    def __str__(self):
        return f"{self.user.email} - {self.coupon.coupon_code}"



<!--tests.py-->
from django.test import TestCase

# Create your tests here.


<!--urls.py-->
from django.urls import path
from . import views

app_name = 'coupon'

urlpatterns = [
    path('apply/', views.apply_coupon, name='apply_coupon'),
    path('remove/', views.remove_coupon, name='remove_coupon'),
]

<!--views.py-->
from django.shortcuts import render

# Create your views here.
from django.shortcuts import redirect
from django.utils import timezone
from django.views.decorators.http import require_POST
from .models import Coupon
from .forms import CouponApplyForm
from cart.models import Cart

@require_POST
def apply_coupon(request):
    now = timezone.now()
    form = CouponApplyForm(request.POST)
    if form.is_valid():
        code = form.cleaned_data['code']
        try:
            coupon = Coupon.objects.get(code__iexact=code,
                                        valid_from__lte=now,
                                        valid_to__gte=now,
                                        active=True)
            request.session['coupon_id'] = coupon.id
        except Coupon.DoesNotExist:
            request.session['coupon_id'] = None
    return redirect('cart:cart-view')

def remove_coupon(request):
    request.session['coupon_id'] = None
    return redirect('cart:cart-view')



<!--cartview - before editing on 14.02.2025 - night 12:13 am-->
{% extends 'base.html' %}
{% block title %}Your Cart | WordBloom{% endblock %}

{% block page_styles %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<style>
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }
    .cart-item {
        display: flex;
        border-bottom: 1px solid #eee;
        padding: 1rem 0;
    }
    .item-image {
        width: 100px;
        margin-right: 1rem;
    }
    .item-image img {
        width: 100%;
        height: auto;
    }
    .item-details {
        flex-grow: 1;
    }
    .quantity-control {
        display: flex;
        align-items: center;
        margin: 1rem 0;
    }
    .quantity-btn {
        background-color: #2b5f5f;
        color: white;
        border: none;
        padding: 0.5rem;
        cursor: pointer;
    }
    .quantity-input {
        width: 50px;
        text-align: center;
        margin: 0 0.5rem;
    }
    .remove-item {
        background-color: #dc3545;
        color: white;
        border: none;
        padding: 0.5rem;
        cursor: pointer;
    }
    .cart-summary {
        background-color: #f8f9fa;
        padding: 1rem;
        border-radius: 4px;
    }
    .summary-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
    }
    .total {
        font-weight: bold;
        font-size: 1.2rem;
        margin-top: 1rem;
    }
    .btn-primary {
        background-color: #2b5f5f;
        color: white;
        border: none;
        padding: 0.5rem;
        cursor: pointer;
        width: 100%;
        margin-top: 1rem;
    }
    @media (max-width: 768px) {
        .row {
            flex-direction: column;
        }
        .col-md-8, .col-md-4 {
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1 class="text-center mb-4">Your Shopping Cart</h1>
    
    {% comment %} {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %} {% endcomment %}

    <div id="cart-content">
        {% if cart_items %}
        <div class="row">
            <div class="col-md-8">
                <div class="cart-items">
                    {% for item in cart_items %}
                    <div class="cart-item">
                        <div class="item-image">
                            <img src="{{ item.variant.get_primary_image.image.url }}" alt="{{ item.variant.product.product_name }}">
                        </div>
                        <div class="item-details">
                            <h3>{{ item.variant.product.product_name }}</h3>
                            <p>{{ item.variant.format }}</p>
                            <p>
                                Price: â¹
                                {% if item.variant.discounted_price %}
                                    {{ item.variant.discounted_price }}
                                {% else %}
                                    {{ item.variant.price }}
                                {% endif %}
                            </p>
                            
                            <form method="post">
                                {% csrf_token %}
                                <input type="hidden" name="item_id" value="{{ item.id }}">
                                {% comment %} <div class="quantity-control">
                                    <button type="submit" name="action" value="update" class="quantity-btn minus">-</button>
                                    <input type="number" name="quantity" class="quantity-input" 
                                           value="{{ item.quantity }}" min="1" max="5">
                                    <button type="submit" name="action" value="update" class="quantity-btn plus">+</button>
                                </div> {% endcomment %}

                                <div class="quantity-control">
                                    {% comment %} <button type="submit" name="action" value="update" class="quantity-btn minus">-</button> {% endcomment %}
                                    <input type="number" name="quantity" class="quantity-input" 
                                           value="{{ item.quantity }}" min="1" max="5">
                                    <button type="submit" name="action" value="update" class="quantity-btn plus">Update Quantity</button>
                                </div>
                                <p class="subtotal">
                                    Subtotal: â¹{{ item.sub_total }}
                                </p>
                                <button type="submit" name="action" value="remove" class="remove-item">Remove</button>
                            </form>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-md-4">
                {% comment %} <div class="cart-summary">
                    <h2>Order Summary</h2>
                    <div class="summary-item">
                        <span>Subtotal:</span>
                        <span>â¹{{ cart_total }}</span>
                    </div>
                    <div class="summary-item">
                        <span>Shipping:</span>
                        <span>Free</span>
                    </div>
                    <div class="summary-item total">
                        <span>Total:</span>
                        <span>â¹{{ cart_total }}</span>
                    </div>
                    <a href="{% url 'cart:checkout' %}" class="btn btn-primary btn-block">Proceed to Checkout</a>
                </div> {% endcomment %}
                <div class="cart-summary">
                    <h2>Order Summary</h2>
                    <div class="summary-item">
                        <span>Subtotal:</span>
                        <span>â¹{{ cart_total }}</span>
                    </div>
                    <div class="summary-item">
                        <span>Shipping:</span>
                        <span>Free</span>
                    </div>
                    {% if cart.coupon %}
                    <div class="summary-item">
                        <span>Coupon "{{ cart.coupon.code }}" ({{ cart.coupon.discount }}% off):</span>
                        <span>- â¹{{ cart.get_discount|floatformat:2 }}</span>
                    </div>
                    {% endif %}
                    <div class="summary-item total">
                        <span>Total:</span>
                        {% comment %} <span>â¹{{ cart.get_total_price_after_discount|floatformat:2 }}</span> {% endcomment %}
                        <span>â¹{{ cart_total }}</span>
                    </div>
                    {% if not cart.coupon %}
                    <form action="{% url 'coupons:apply_coupon' %}" method="post">
                        {{ coupon_apply_form }}
                        <input type="submit" value="Apply Coupon" class="btn btn-primary">
                        {% csrf_token %}
                    </form>
                    {% else %}
                    <form action="{% url 'coupons:remove_coupon' %}" method="post">
                        <input type="submit" value="Remove Coupon" class="btn btn-primary">
                        {% csrf_token %}
                    </form>
                    {% endif %}
                    <a href="{% url 'cart:checkout' %}" class="btn btn-primary btn-block">Proceed to Checkout</a>
                </div>
            </div>
        </div>
        {% else %}
        <p class="text-center">Your cart is empty. <a href="{% url 'accounts:shop' %}">Continue shopping</a></p>
        {% endif %}
    </div>
</div>
{%Â endblockÂ %}





<!--CART VIEW - NEW ON 14.02.2025 AT 12:15 AM-->

{% extends 'base.html' %}
{% load static %}

{% block title %}Your Cart | WordBloom{% endblock %}

{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    .cart-item {
        border-bottom: 1px solid #e0e0e0;
        padding: 1rem 0;
    }
    .item-image {
        max-width: 100px;
        height: auto;
    }
    .quantity-input {
        width: 60px;
    }
    .coupon-form {
        display: flex;
        gap: 10px;
    }
    .coupon-form input {
        flex-grow: 1;
    }
    @media (max-width: 768px) {
        .cart-summary {
            margin-top: 2rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container my-5">
    <h1 class="text-center mb-4">Your Shopping Cart</h1>
    
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}

    {% if cart_items %}
        <div class="row">
            <div class="col-md-8">
                {% for item in cart_items %}
                    <div class="cart-item row">
                        <div class="col-md-3 col-4">
                            <img src="{{ item.variant.get_primary_image.image.url }}" alt="{{ item.variant.product.product_name }}" class="item-image img-fluid">
                        </div>
                        <div class="col-md-9 col-8">
                            <h5>{{ item.variant.product.product_name }}</h5>
                            <p>{{ item.variant.format }}</p>
                            <p>Price: â¹{{ item.variant.discounted_price|default:item.variant.price }}</p>
                            <form method="post" class="update-quantity-form">
                                {% csrf_token %}
                                <input type="hidden" name="item_id" value="{{ item.id }}">
                                <div class="input-group mb-3" style="max-width: 200px;">
                                    <input type="number" name="quantity" class="form-control quantity-input" value="{{ item.quantity }}" min="1" max="5">
                                    <button class="btn btn-outline-secondary update-quantity" type="button">Update</button>
                                </div>
                            </form>
                            <p class="subtotal">Subtotal: â¹<span class="item-subtotal">{{ item.sub_total }}</span></p>
                            <button class="btn btn-danger btn-sm remove-item" data-item-id="{{ item.id }}">Remove</button>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="col-md-4">
                <div class="cart-summary card">
                    <div class="card-body">
                        <h5 class="card-title">Order Summary</h5>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Subtotal:</span>
                            <span>â¹<span id="cart-subtotal">{{ cart_total }}</span></span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Shipping:</span>
                            <span>Free</span>
                        </div>
                        {% if cart.coupon %}
                            <div class="d-flex justify-content-between mb-2">
                                <span>Coupon ({{ cart.coupon.discount }}% off):</span>
                                <span>-â¹<span id="discount-amount">{{ discount_amount|floatformat:2 }}</span></span>
                            </div>
                        {% endif %}
                        <hr>
                        <div class="d-flex justify-content-between mb-3">
                            <strong>Total:</strong>
                            <strong>â¹<span id="cart-total">{{ total_after_discount|floatformat:2 }}</span></strong>
                        </div>
                        {% if not cart.coupon %}
                            <form action="{% url 'coupon:apply_coupon' %}" method="post" class="coupon-form mb-3">
                                {% csrf_token %}
                                <input type="text" name="code" class="form-control" placeholder="Enter coupon code">
                                <button type="submit" class="btn btn-primary">Apply</button>
                            </form>
                        {% else %}
                            <form action="{% url 'coupon:remove_coupon' %}" method="post" class="mb-3">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-secondary w-100">Remove Coupon</button>
                            </form>
                        {% endif %}
                        <a href="{% url 'cart:checkout' %}" class="btn btn-success w-100">Proceed to Checkout</a>
                    </div>
                </div>
            </div>
        </div>
    {% else %}
        <p class="text-center">Your cart is empty. <a href="{% url 'accounts:shop' %}">Continue shopping</a></p>
    {% endif %}
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // Update quantity
    $('.update-quantity').click(function() {
        var form = $(this).closest('form');
        var url = '{% url "cart:update-cart-quantity" %}';
        var data = form.serialize();

        $.ajax({
            url: url,
            type: 'POST',
            data: data,
            success: function(response) {
                if (response.status === 'success') {
                    var itemSubtotal = form.closest('.cart-item').find('.item-subtotal');
                    itemSubtotal.text(response.item_subtotal.toFixed(2));
                    updateCartSummary(response.cart_total, response.discount_amount, response.total_after_discount);
                }
            },
            error: function(xhr, errmsg, err) {
                console.log(errmsg);
            }
        });
    });

    // Remove item
    $('.remove-item').click(function() {
        var itemId = $(this).data('item-id');
        var url = '/cart/remove/' + itemId + '/';

        $.ajax({
            url: url,
            type: 'POST',
            data: {
                'csrfmiddlewaretoken': '{{ csrf_token }}'
            },
            success: function(response) {
                if (response.status === 'success') {
                    location.reload();
                }
            },
            error: function(xhr, errmsg, err) {
                console.log(errmsg);
            }
        });
    });

    function updateCartSummary(cartTotal, discountAmount, totalAfterDiscount) {
        $('#cart-subtotal').text(cartTotal.toFixed(2));
        $('#discount-amount').text(discountAmount.toFixed(2));
        $('#cart-total').text(totalAfterDiscount.toFixed(2));
    }
});
</script>
{% endblock %}

